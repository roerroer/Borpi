/* rpi GES*/
function uiUploader(e){"use strict";var o=this;function r(e){o.options=e;for(var t=0;t<o.files.length&&o.activeUploads!=o.options.concurrency;t++)o.files[t].active||n(o.files[t],o.options.url)}return o.files=[],o.options={},o.activeUploads=0,e.info("uiUploader loaded"),{addFiles:function(e){for(var t=0;t<e.length;t++)o.files.push(e[t])},getFiles:function(){return o.files},files:o.files,startUpload:r,removeFile:function(e){o.files.splice(o.files.indexOf(e),1)},removeAll:function(){o.files.splice(0,o.files.length)}};function n(t,e){var n,i;return o.activeUploads+=1,t.active=!0,n=new window.XMLHttpRequest,i=new window.FormData,n.open("POST",e),n.upload.onloadstart=function(){},n.upload.onprogress=function(e){e.lengthComputable&&(t.loaded=e.loaded,t.humanSize=function(e){var t=+Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toFixed(t?1:0)+" "+["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"][isNaN(e)?0:1+t]}(e.loaded),o.options.onProgress(t))},n.onload=function(){o.activeUploads-=1,r(o.options),o.options.onCompleted(t)},n.onerror=function(){},i.append("file",t,t.name),n.send(i),n}}!function(){"use strict";(window.jQuery||window.$||(window.$={})).jrzStorage={local:{exists:function(e){return localStorage[e]},setItem:function(e,t,n){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){return console.log(e.message),null}return t},getItem:function(e){try{var t=JSON.parse(localStorage.getItem(e))}catch(e){return console.log(e.message),null}return t},removeItem:function(e){try{return localStorage.removeItem(e),!0}catch(e){console.log(e.message)}return!1},clear:function(){try{localStorage.clear()}catch(e){console.log(e.message)}return!0}},session:{exists:function(e){return sessionStorage[e]},setItem:function(e,t,n){try{sessionStorage.setItem(e,JSON.stringify(t))}catch(e){return console.log(e.message),null}return t},getItem:function(e){try{var t=JSON.parse(sessionStorage.getItem(e))}catch(e){return console.log(e.message),null}return t},removeItem:function(e){try{return sessionStorage.removeItem(e),!0}catch(e){console.log(e.message)}return!1},clear:function(){try{sessionStorage.clear()}catch(e){console.log(e.message)}return!0}}},function(){if("localStorage"in window)try{window.localStorage.setItem("__test","__test"),window.localStorage.removeItem("__test")}catch(e){console.log(e.message)}}()}(),angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function(n,e){"use strict";e=e||{},angular.forEach(e,function(e,t){angular.isString(e)&&(e={replace:!0,template:e}),n.directive(t,function(){return e})})}]),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(r){"use strict";return function(i,o,e){var t=i.$eval(e.uiEvent);angular.forEach(t,function(e,t){var n=r(e);o.bind(t,function(e){var t=Array.prototype.slice.call(arguments);t=t.splice(1),n(i,{$event:e,$params:t}),i.$$phase||i.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){"use strict";return function(e,n){var i=e;if(angular.isString(i)&&void 0!==n)if(angular.isArray(n)||angular.isObject(n)||(n=[n]),angular.isArray(n)){var o=n.length;i=i.replace(/\$([0-9]+)/g,function(e,t){return 0<=(t=parseInt(t,10))&&t<o?n[t]:e})}else angular.forEach(n,function(e,t){i=i.split(":"+t).join(e)});return i}}),angular.module("ui.highlight",[]).filter("highlight",function(){"use strict";return function(e,t,n){return e&&(t||angular.isNumber(t))?(e=e.toString(),t=t.toString(),n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(f,g,p,m){"use strict";return{restrict:"ECA",terminal:!0,compile:function(e,t){var u=t.uiInclude||t.src,l=t.fragment||"",c=t.onload||"",d=t.autoscroll;return function(o,r){var a,s=0,t=function(){a&&(a.$destroy(),a=null),r.html("")};function e(){var n=++s,e=o.$eval(u),i=o.$eval(l);e?f.get(e,{cache:g}).success(function(e){var t;n===s&&(a&&a.$destroy(),a=o.$new(),t=i?angular.element("<div/>").html(e).find(i):angular.element("<div/>").html(e).contents(),r.html(t),m(t)(a),!angular.isDefined(d)||d&&!o.$eval(d)||p(),a.$emit("$includeContentLoaded"),o.$eval(c))}).error(function(){n===s&&t()}):t()}o.$watch(l,e),o.$watch(u,e)}}}}]),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){"use strict";return{compile:function(e,t){return t.type&&"checkbox"===t.type.toLowerCase()?function(e,t,n){e.$watch(n.uiIndeterminate,function(e){t[0].indeterminate=!!e})}:angular.noop}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){"use strict";function t(e){return(e=e.replace(/([A-Z])|([\-|\_])/g,function(e,t){return" "+(t||"")})).replace(/\s\s+/g," ").trim().toLowerCase().split(" ")}function n(e){var t=[];return angular.forEach(e,function(e){t.push(e.charAt(0).toUpperCase()+e.substr(1))}),t}var i={humanize:function(e){return n(t(e)).join(" ")},underscore:function(e){return t(e).join("_")},variable:function(e){return e=(e=t(e))[0]+n(e.slice(1)).join("")}};return function(e,t){return!1!==t&&angular.isString(e)?i[t=t||"humanize"](e):e}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(n,a){"use strict";return{restrict:"A",compile:function(e,t){if(!angular.isFunction(e[t.uiJq]))throw new Error('ui-jq: The "'+t.uiJq+'" function does not exist');var r=n&&n[t.uiJq];return function(e,t,n){var i=[];function o(){a(function(){t[n.uiJq].apply(t,i)},0,!1)}n.uiOptions?(i=e.$eval("["+n.uiOptions+"]"),angular.isObject(r)&&angular.isObject(i[0])&&(i[0]=angular.extend({},r,i[0]))):r&&(i=[r]),n.ngModel&&t.is("select,input,textarea")&&t.bind("change",function(){t.trigger("input")}),n.uiRefresh&&e.$watch(n.uiRefresh,function(){o()}),o()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(r){"use strict";var g={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"};return function(e,f,t,n){var i,o=[];i=f.$eval(n["ui"+function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(e)]),angular.forEach(i,function(e,t){var n,i;i=r(e),angular.forEach(t.split(" "),function(e){n={expression:i,keys:{}},angular.forEach(e.split("-"),function(e){n.keys[e]=!0}),o.push(n)})}),t.bind(e,function(a){var s=!(!a.metaKey||a.ctrlKey),u=!!a.altKey,l=!!a.ctrlKey,c=!!a.shiftKey,d=a.keyCode;"keypress"===e&&!c&&97<=d&&d<=122&&(d-=32),angular.forEach(o,function(e){var t=e.keys[g[d]]||e.keys[d.toString()],n=!!e.keys.meta,i=!!e.keys.alt,o=!!e.keys.ctrl,r=!!e.keys.shift;t&&n==s&&i==u&&o==l&&r==c&&f.$apply(function(){e.expression(f,{$event:a})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(i){"use strict";return{link:function(e,t,n){i("keydown",e,t,n)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(i){"use strict";return{link:function(e,t,n){i("keypress",e,t,n)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(i){"use strict";return{link:function(e,t,n){i("keyup",e,t,n)}}}]),angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/^[0-9 ]+$/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9 _]/},clearOnBlur:!0}).directive("uiMask",["uiMaskConfig","$parse",function(e,$){"use strict";return{priority:100,require:"ngModel",restrict:"A",compile:function(){var y=e;return function(S,R,o,E){var D,r,a,s,u,t,n,i,x,k,T,C,l=!1,c=!1,e=o.placeholder,d=o.maxlength;var f={};o.uiOptions?(f=S.$eval("["+o.uiOptions+"]"),angular.isObject(f[0])&&(f=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(void 0===t[n]?t[n]=angular.copy(e[n]):angular.extend(t[n],e[n]));return t}(y,f[0]))):f=y,o.$observe("uiMask",function(e){return angular.isDefined(e)?(function(e){var n=0;if(D=[],r=[],a="","string"==typeof e){u=0;var i=!1,t=e.split("");angular.forEach(t,function(e,t){f.maskDefinitions[e]?(D.push(n),a+=function(e){var t=o.placeholder;return void 0!==t&&t[e]?t[e]:"_"}(t),r.push(f.maskDefinitions[e]),n++,i||u++):"?"===e?i=!0:(a+=e,n++)})}D.push(D.slice().pop()+1),s=a.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_"),l=1<D.length}(e),l?(function(){t=k=P(E.$modelValue||""),n=x=O(t);var e=(i=m(t))&&t.length?n:"";o.maxlength&&R.attr("maxlength",2*D[D.length-1]),R.attr("placeholder",a),R.val(e),E.$viewValue=e}(),c||(R.bind("blur",h),R.bind("mousedown mouseup",v),R.bind("input keyup click focus",w),c=!0),!0):p()):p()}),o.$observe("placeholder",function(e){angular.isDefined(e)&&(a=e,l&&w())});var g=!1;function p(){return l=!1,function(){if(!c)return;R.unbind("blur",h),R.unbind("mousedown",v),R.unbind("mouseup",v),R.unbind("input",w),R.unbind("keyup",w),R.unbind("click",w),R.unbind("focus",w),c=!1}(),angular.isDefined(e)?R.attr("placeholder",e):R.removeAttr("placeholder"),angular.isDefined(d)?R.attr("maxlength",d):R.removeAttr("maxlength"),R.val(E.$modelValue),E.$viewValue=E.$modelValue,!1}function m(e){return!e.length||e.length>=u}function P(t){var n="",i=r.slice();return t=t.toString(),angular.forEach(s,function(e){t=t.replace(e,"")}),angular.forEach(t.split(""),function(e){i.length&&i[0].test(e)&&(n+=e,i.shift())}),n}function O(n){var i="",o=D.slice();return angular.forEach(a.split(""),function(e,t){n.length&&t===o[0]?(i+=n.charAt(0)||"_",n=n.substr(1),o.shift()):i+=e}),i}function h(){f.clearOnBlur&&(C=T=0),i&&0!==t.length||(f.clearOnBlur&&(n="",R.val("")),S.$apply(function(){E.$setViewValue("")}))}function v(e){"mousedown"===e.type?R.bind("mouseout",b):R.unbind("mouseout",b)}function b(){C=I(this),R.unbind("mouseout",b)}function w(e){var t=(e=e||{}).which,n=e.type;if(16!==t&&91!==t){var i,o=R.val(),r=x,a=P(o),s=k,u=!1,l=function(e){if(!e)return 0;{if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();return t.moveStart("character",e.value?-e.value.length:0),t.text.length}}return 0}(this)||0,c=T||0,d=l-c,f=D[0],g=D[a.length]||D.slice().shift(),p=C||0,m=0<I(this),h=0<p,v=o.length>r.length||p&&o.length>r.length-p,b=o.length<r.length||p&&o.length===r.length-p,w=37<=t&&t<=40&&e.shiftKey,y=8===t||"keyup"!==n&&b&&-1==d,$=46===t||"keyup"!==n&&b&&0==d&&!h,_=(37===t||y||"click"===n)&&f<l;if(C=I(this),!w&&(!m||"click"!==n&&"keyup"!==n)){if("input"===n&&b&&!h&&a===s){for(;y&&f<l&&!M(l);)l--;for(;$&&l<g&&-1===D.indexOf(l);)l++;var A=D.indexOf(l);a=a.substring(0,A)+a.substring(A+1),u=!0}for(i=O(a),x=i,k=a,R.val(i),u&&S.$apply(function(){E.$setViewValue(a)}),v&&l<=f&&(l=f+1),_&&l--,l=g<l?g:l<f?f:l;!M(l)&&f<l&&l<g;)l+=_?-1:1;(_&&l<g||v&&!M(c))&&l++,function(e,t){if(!e)return;if(0===e.offsetWidth||0===e.offsetHeight)return;if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}(this,T=l)}}}function M(e){return-1<D.indexOf(e)}function I(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0:0}o.$observe("modelViewValue",function(e){"true"===e&&(g=!0)}),S.$watch(o.ngModel,function(e){g&&e&&$(o.ngModel).assign(S,E.$viewValue)}),E.$formatters.push(function(e){return l?(t=P(e||""),i=m(t),E.$setValidity("mask",i),i&&t.length?O(t):void 0):e}),E.$parsers.push(function(e){return l?(t=P(e||""),i=m(t),E.$viewValue=t.length?O(t):"",E.$setValidity("mask",i),""===t&&o.required&&E.$setValidity("required",!E.$error.required),i?t:void 0):e}),R.bind("mousedown mouseup",v),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0==n)return-1;var i=0;if(1<arguments.length&&((i=Number(arguments[1]))!=i?i=0:0!==i&&i!==1/0&&i!==-1/0&&(i=(0<i||-1)*Math.floor(Math.abs(i)))),n<=i)return-1;for(var o=0<=i?i:Math.max(n-Math.abs(i),0);o<n;o++)if(o in t&&t[o]===e)return o;return-1})}}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(e){"use strict";var r=null;return void 0!==e&&(r=e),{require:"ngModel",link:function(t,e,n,i){var o;o=angular.element('<a class="ui-reset" />'),e.wrap('<span class="ui-resetwrap" />').after(o),o.bind("click",function(e){e.preventDefault(),t.$apply(function(){n.uiReset?i.$setViewValue(t.$eval(n.uiReset)):i.$setViewValue(r),i.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(u,l){"use strict";return{restrict:"AC",scope:!0,compile:function(e,t){var s;if(t.uiRoute)s="uiRoute";else if(t.ngHref)s="ngHref";else{if(!t.href)throw new Error("uiRoute missing a route or href property on "+e[0]);s="href"}return function(n,e,t){var i=l(t.ngModel||t.routeModel||"$uiRoute").assign,o=angular.noop;function r(e){var t=e.indexOf("#");-1<t&&(e=e.substr(t+1)),(o=function(){i(n,-1<u.path().indexOf(e))})()}function a(t){var e=t.indexOf("#");-1<e&&(t=t.substr(e+1)),(o=function(){var e=new RegExp("^"+t+"$",["i"]);i(n,e.test(u.path()))})()}switch(s){case"uiRoute":t.uiRoute?a(t.uiRoute):t.$observe("uiRoute",a);break;case"ngHref":t.ngHref?r(t.ngHref):t.$observe("ngHref",r);break;case"href":r(t.href)}n.$on("$routeChangeSuccess",function(){o()}),n.$on("$stateChangeSuccess",function(){o()})}}}}]),angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(e,a){"use strict";return{registerFor:function(n){var g,i,r,p,t,m,o;return i=angular.element.prototype.css,n.prototype.css=function(e,t){var n;if((n=this[0])&&3!==n.nodeType&&8!==n.nodeType&&n.style)return i.call(this,e,t)},m=function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},o=function(e,t,n){var i,o,r,a,s;return i=e[0],o=(s={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[t])[0],a=s[1],r=s[2],m(i)?angular.isDefined(n)?i.scrollTo(e[r].call(e),n):a in i?i[a]:i.document.documentElement[o]:angular.isDefined(n)?i[o]=n:i[o]},g=a.getComputedStyle?(p=function(e){return a.getComputedStyle(e,null)},function(e,t){return parseFloat(t)}):(p=function(e){return e.currentStyle},function(e,t){var n,i,o,r,a;return new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i").test(t)?(n=(a=e.style).left,r=(o=e.runtimeStyle)&&o.left,o&&(o.left=a.left),a.left=t,i=a.pixelLeft,a.left=n,r&&(o.left=r),i):parseFloat(t)}),r=function(e,t){var n,i,o,r,a,s,u,l,c,d,f;return m(e)?{base:n=document.documentElement[{height:"clientHeight",width:"clientWidth"}[t]],padding:0,border:0,margin:0}:(n=(f={width:[e.offsetWidth,"Left","Right"],height:[e.offsetHeight,"Top","Bottom"]}[t])[0],u=f[1],l=f[2],s=p(e),c=g(e,s["padding"+u])||0,d=g(e,s["padding"+l])||0,i=g(e,s["border"+u+"Width"])||0,o=g(e,s["border"+l+"Width"])||0,r=s["margin"+u],a=s["margin"+l],{base:n,padding:c+d,border:i+o,margin:(g(e,r)||0)+(g(e,a)||0)})},t=function(e,t,n){var i,o;return 0<(i=r(e,t)).base?{base:i.base-i.padding-i.border,outer:i.base,outerfull:i.base+i.margin}[n]:(((o=p(e)[t])<0||null===o)&&(o=e.style[t]||0),{base:(o=parseFloat(o)||0)-i.padding-i.border,outer:o,outerfull:o+i.padding+i.border+i.margin}[n])},angular.forEach({before:function(e){var t,n,i,o,r,a;if(n=this[0],(t=(o=this.parent()).contents())[0]===n)return o.prepend(e);for(i=r=1,a=t.length-1;1<=a?r<=a:a<=r;i=1<=a?++r:--r)if(t[i]===n)return void angular.element(t[i-1]).after(e);throw new Error("invalid DOM structure "+n.outerHTML)},height:function(e){return this,angular.isDefined(e)?(angular.isNumber(e)&&(e+="px"),i.call(this,"height",e)):t(this[0],"height","base")},outerHeight:function(e){return t(this[0],"height",e?"outerfull":"outer")},offset:function(e){var t,n,i,o,r;if(this,arguments.length){if(void 0===e)return this;throw new Error("offset setter method is not implemented")}if(t={top:0,left:0},n=(o=this[0])&&o.ownerDocument)return i=n.documentElement,null!=o.getBoundingClientRect&&(t=o.getBoundingClientRect()),r=n.defaultView||n.parentWindow,{top:t.top+(r.pageYOffset||i.scrollTop)-(i.clientTop||0),left:t.left+(r.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},scrollTop:function(e){return o(this,"top",e)},scrollLeft:function(e){return o(this,"left",e)}},function(e,t){if(!n.prototype[t])return n.prototype[t]=e})}}}]).run(["$log","$window","jqLiteExtras",function(e,t,n){"use strict";if(!t.jQuery)return n.registerFor(angular.element)}]),angular.module("ui.scroll",[]).directive("uiScrollViewport",["$log",function(){"use strict";return{controller:["$scope","$element",function(e,t){return this.viewport=t,this}]}}]).directive("uiScroll",["$log","$injector","$rootScope","$timeout",function(X,ee,te,ne){"use strict";return{require:["?^uiScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:function(e,t,Q){return function(r,f,t,s){var g,p,m,l,h,v,c,u,d,b,n,e,w,y,$,i,o,_,A,a,S,R,E,D,x,k,T,C,P,O,M,I,j,N,z,q,F,V,H,U,B,L,G,J,K,W,Y,Z;if(T=X.debug||X.log,!(C=t.uiScroll.match(/^\s*(\w+)\s+in\s+([\w\.]+)\s*$/)))throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '"+t.uiScroll+"'");if(x=C[1],e=C[2],!(E=function(e){return angular.isObject(e)&&e.get&&angular.isFunction(e.get)})(n=(a=function(e,t){var n;return e?(n=t.match(/^([\w]+)\.(.+)$/))&&3===n.length?a(e[n[1]],n[2]):e[t]:null})(r,e))&&!E(n=ee.get(e)))throw new Error(e+" is not a valid datasource");return u=Math.max(3,+t.bufferSize||10),c=function(){return W.outerHeight()*Math.max(.1,+t.padding||.1)},q=function(e){var t;return null!=(t=e[0].scrollHeight)?t:e[0].document.documentElement.scrollHeight},g=null,Q(U=r.$new(),function(e){var t,n,i,o,r,a;if("dl"===(o=e[0].localName))throw new Error("ui-scroll directive does not support <"+e[0].localName+"> as a repeating tag: "+e[0].outerHTML);return"li"!==o&&"tr"!==o&&(o="div"),(a=s[0]&&s[0].viewport?s[0].viewport:angular.element(window)).css({"overflow-y":"auto",display:"block"}),r=(n=function(t,e,n){return e[{top:"before",bottom:"after"}[n]](t),{paddingHeight:function(){return t.paddingHeight.apply(t,arguments)},insert:function(e){return t[{top:"after",bottom:"before"}[n]](e)}}})((i=function(e){var t,n,i;switch(e){case"tr":return i=angular.element("<table><tr><td><div></div></td></tr></table>"),t=i.find("div"),(n=i.find("tr")).paddingHeight=function(){return t.height.apply(t,arguments)},n;default:return(n=angular.element("<"+e+"></"+e+">")).paddingHeight=n.height,n}})(o),f,"top"),t=n(i(o),f,"bottom"),U.$destroy(),g={viewport:a,topPadding:r.paddingHeight,bottomPadding:t.paddingHeight,append:t.insert,prepend:r.insert,bottomDataPos:function(){return q(a)-t.paddingHeight()},topDataPos:function(){return r.paddingHeight()}}}),W=g.viewport,Y=W.scope()||te,angular.isDefined(t.topVisible)&&(G=function(e){return Y[t.topVisible]=e}),angular.isDefined(t.topVisibleElement)&&(L=function(e){return Y[t.topVisibleElement]=e}),angular.isDefined(t.topVisibleScope)&&(K=function(e){return Y[t.topVisibleScope]=e}),B=function(e){if(G&&G(e.scope[x]),L&&L(e.element),K&&K(e.scope),n.topVisible)return n.topVisible(e)},k=angular.isDefined(t.isLoading)?function(e){if(Y[t.isLoading]=e,n.loading)return n.loading(e)}:function(e){if(n.loading)return n.loading(e)},N=0,P=A=1,v=[],D=l=$=!(O=[]),I=function(e,t){var n,i;for(n=i=e;e<=t?i<t:t<i;n=e<=t?++i:--i)v[n].scope.$destroy(),v[n].element.remove();return v.splice(e,t-e)},M=function(){return N++,P=A=1,I(0,v.length),g.topPadding(0),g.bottomPadding(0),p(N,l=$=!(O=[]))},h=function(){return W.scrollTop()+W.outerHeight()},J=function(){return W.scrollTop()},F=function(){return!$&&g.bottomDataPos()<h()+c()},d=function(){var e,t,n,i,o,r,a,s,u,l;for(a=e=0,t=u=l=v.length-1;l<=0?u<=0:0<=u;t=l<=0?++u:--u)if(r=s!==(o=(n=v[t]).element.offset().top),s=o,r&&(i=n.element.outerHeight(!0)),g.bottomDataPos()-e-i>h()+c())r&&(e+=i),a++,$=!1;else{if(r)break;a++}if(0<a)return g.bottomPadding(g.bottomPadding()+e),I(v.length-a,v.length),P-=a,T("clipped off bottom "+a+" bottom padding "+g.bottomPadding())},V=function(){return!l&&g.topDataPos()>J()-c()},b=function(){var e,t,n,i,o,r,a,s,u;for(s=o=a=0,u=v.length;s<u;s++)if(i=r!==(n=(e=v[s]).element.offset().top),r=n,i&&(t=e.element.outerHeight(!0)),g.topDataPos()+a+t<J()-c())i&&(a+=t),o++,l=!1;else{if(i)break;o++}if(0<o)return g.topPadding(g.topPadding()+a),I(0,o),A+=o,T("clipped off top "+o+" top padding "+g.topPadding())},y=function(e,t,n){if(D||k(D=!0),1===O.push(t))return o(e,n)},S=function(e){return e.displayTemp=e.css("display"),e.css("display","none")},H=function(e){if(e.hasOwnProperty("displayTemp"))return e.css("display",e.displayTemp)},R=function(t,e){var n,i,o;return(n=r.$new())[x]=e,i=A<t,n.$index=t,i&&n.$index--,o={scope:n},Q(n,function(e){return o.element=e,i?t===P?(S(e),g.append(e),v.push(o)):(v[t-A].element.after(e),v.splice(t-A+1,0,o)):(S(e),g.prepend(e),v.unshift(o))}),{appended:i,wrapper:o}},m=function(e,t){var n;return e?g.bottomPadding(Math.max(0,g.bottomPadding()-t.element.outerHeight(!0))):0<=(n=g.topPadding()-t.element.outerHeight(!0))?g.topPadding(n):W.scrollTop(W.scrollTop()+t.element.outerHeight(!0))},w=function(e,t,n){var i,o,r,a,s,u,l,c,d;if(T("top {actual="+g.topDataPos()+" visible from="+J()+" bottom {visible through="+h()+" actual="+g.bottomDataPos()+"}"),F()?y(e,!0,t):V()&&y(e,!1,t),n&&n(e),0===O.length){for(d=[],l=u=0,c=v.length;l<c;l++){if(a=s!==(r=(i=v[l]).element.offset().top),s=r,a&&(o=i.element.outerHeight(!0)),!(a&&g.topDataPos()+u+o<J())){a&&B(i);break}d.push(u+=o)}return d}},p=function(u,l,c,d){return c&&c.length?ne(function(){var e,t,n,i,o,r,a,s;for(i=[],o=0,a=c.length;o<a;o++)t=c[o],f=t.wrapper.element,H(f),n!==(e=f.offset().top)&&(i.push(t),n=e);for(r=0,s=i.length;r<s;r++)t=i[r],m(t.appended,t.wrapper);return w(u,l,d)}):w(u,l,d)},_=function(e,t,n){return p(e,t,n,function(){return O.shift(),0===O.length?k(D=!1):o(e,t)})},o=function(r,a){return O[0]?v.length&&!F()?_(r,a):n.get(P,u,function(e){var t,n,i,o;if(!r||r===N){if(n=[],e.length<u&&($=!0,g.bottomPadding(0)),0<e.length)for(b(),i=0,o=e.length;i<o;i++)t=e[i],n.push(R(++P,t));return _(r,a,n)}}):v.length&&!V()?_(r,a):n.get(A-u,u,function(e){var t,n,i,o;if(!r||r===N){if(n=[],e.length<u&&(l=!0,g.topPadding(0)),0<e.length)for(v.length&&d(),t=i=o=e.length-1;o<=0?i<=0:0<=i;t=o<=0?++i:--i)n.unshift(R(--A,e[t]));return _(r,a,n)}})},j=function(){if(!te.$$phase&&!D)return p(null,!1),r.$apply()},W.bind("resize",j),z=function(){if(!te.$$phase&&!D)return p(null,!0),r.$apply()},W.bind("scroll",z),Z=function(e){var t,n;if(t=W[0].scrollTop,n=W[0].scrollHeight-W[0].clientHeight,0===t&&!l||t===n&&!$)return e.preventDefault()},W.bind("mousewheel",Z),r.$watch(n.revision,function(){return M()}),i=n.scope?n.scope.$new():r.$new(),r.$on("$destroy",function(){return i.$destroy(),W.unbind("resize",j),W.unbind("scroll",z),W.unbind("mousewheel",Z)}),i.$on("update.items",function(e,t,n){var i,o,r,a;if(angular.isFunction(t))for(i=function(e){return t(e.scope)},o=0,r=v.length;o<r;o++)i(v[o]);else 0<=(a=t-A-1)&&a<v.length&&(v[t-A-1].scope[x]=n);return null}),i.$on("delete.items",function(e,t){var n,i,o,r,a,s,u,l,c,d,f;if(angular.isFunction(t)){for(o=[],a=0,l=v.length;a<l;a++)i=v[a],o.unshift(i);for(r=function(e){if(t(e.scope))return I(o.length-1-n,o.length-n),P--},n=s=0,c=o.length;s<c;n=++s)r(o[n])}else 0<=(f=t-A-1)&&f<v.length&&(I(t-A-1,t-A),P--);for(n=u=0,d=v.length;u<d;n=++u)(i=v[n]).scope.$index=A+n;return p(null,!1)}),i.$on("insert.item",function(e,t,n){var i,o,r,a,s;if(o=[],angular.isFunction(t))throw new Error("not implemented - Insert with locator function");for(0<=(s=t-A-1)&&s<v.length&&(o.push(R(t,n)),P++),i=r=0,a=v.length;r<a;i=++r)(n=v[i]).scope.$index=A+i;return p(null,!1,o)})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(s){"use strict";return{require:"^?uiScrollfixTarget",link:function(e,t,n,i){var o=t[0].offsetTop,r=i&&i.$element||angular.element(s);function a(){var e=i?r[0].scrollTop:angular.isDefined(s.pageYOffset)?s.pageYOffset:(document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body).scrollTop;!t.hasClass("ui-scrollfix")&&e>n.uiScrollfix?t.addClass("ui-scrollfix"):t.hasClass("ui-scrollfix")&&e<n.uiScrollfix&&t.removeClass("ui-scrollfix")}n.uiScrollfix?"string"==typeof n.uiScrollfix&&("-"===n.uiScrollfix.charAt(0)?n.uiScrollfix=o-parseFloat(n.uiScrollfix.substr(1)):"+"===n.uiScrollfix.charAt(0)&&(n.uiScrollfix=o+parseFloat(n.uiScrollfix.substr(1)))):n.uiScrollfix=o,r.on("scroll",a),e.$on("$destroy",function(){r.off("scroll",a)})}}}]).directive("uiScrollfixTarget",[function(){"use strict";return{controller:["$element",function(e){this.$element=e}]}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){"use strict";return function(e,t,n){e.$watch(n.uiShow,function(e){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){"use strict";return function(e,t,n){e.$watch(n.uiHide,function(e){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){"use strict";return function(e,t,n){e.$watch(n.uiToggle,function(e){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function(r){"use strict";return function(e,t){if(!1===t)return e;if((t||angular.isUndefined(t))&&angular.isArray(e)){var i=[],n=angular.isString(t)?r(t):function(e){return e},o=function(e){return angular.isObject(e)?n(e):e};angular.forEach(e,function(e){for(var t=!1,n=0;n<i.length;n++)if(angular.equals(o(i[n]),o(e))){t=!0;break}t||i.push(e)}),e=i}return e}}]),angular.module("ui.uploader",[]).service("uiUploader",uiUploader),uiUploader.$inject=["$log"],angular.module("ui.validate",[]).directive("uiValidate",function(){"use strict";return{restrict:"A",require:"ngModel",link:function(o,e,t,r){var a,n,s={},i=o.$eval(t.uiValidate);i&&(angular.isString(i)&&(i={validator:i}),angular.forEach(i,function(n,i){a=function(e){var t=o.$eval(n,{$value:e});return angular.isObject(t)&&angular.isFunction(t.then)?t.then(function(){r.$setValidity(i,!0)},function(){r.$setValidity(i,!1)}):t?r.$setValidity(i,!0):r.$setValidity(i,!1),e},s[i]=a,r.$formatters.push(a),r.$parsers.push(a)}),t.uiValidateWatch&&(n=o.$eval(t.uiValidateWatch),angular.isString(n)?o.$watch(n,function(){angular.forEach(s,function(e){e(r.$modelValue)})}):angular.isArray(n)?angular.forEach(n,function(e){o.$watch(e,function(){angular.forEach(s,function(e){e(r.$modelValue)})})}):angular.isObject(n)&&angular.forEach(n,function(e,t){angular.isString(e)&&o.$watch(e,function(){s[t](r.$modelValue)}),angular.isArray(e)&&angular.forEach(e,function(e){o.$watch(e,function(){s[t](r.$modelValue)})})})))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"]),angular.module("authFactory",[]).factory("authService",["$http","$q","$window","$interval","$timeout",function(i,o,e,r,a){var s;function u(){return s}return $.jrzStorage.local.exists("appUser")&&(s=$.jrzStorage.local.getItem("appUser")),{login:function(e,t){var n=o.defer();return i.post("/eRegistroAPI/Auth/Login",{userName:e,password:t}).then(function(e){e.data.Succeeded?(s={accessToken:e.data.Result.token,userName:e.data.Result.Nombre,email:e.data.Result.Email},$.jrzStorage.local.setItem("appUser",s),n.resolve(s)):n.reject("-Cuenta no existe en el sistema-")},function(e){n.reject(e)}),n.promise},logout:function(){var t=o.defer();return i({method:"POST",url:"/eRegistroAPI/Auth/logout",headers:{access_token:s.accessToken}}).then(function(e){s=null,$.jrzStorage.local.removeItem("appUser"),t.resolve(e)},function(e){t.reject(e)}),t.promise},getUserInfo:u,getToken:function(){return s||console.log("no-token"),s?s.accessToken:"no-token"},api:function(){return"/eRegistroAPI"},custodian:function(e){var t,n=void 0;e&&(t=r(function(){null===u()||n?n&&angular.isDefined(t)&&(r.cancel(t),t=void 0):(console.log("custodian enabled"),a(e,1e3,!1),n=!0)},1e3))}}}]).factory("listService",["$http","$q","authService",function(n,e,i){var o,t;function r(){var t=e.defer();return n.get("/eRegistroAPI/Admin/Entities/Get?entity=all",{headers:{access_token:i.getToken()}}).then(function(e){o=e.data.Result,$.jrzStorage.local.setItem("lists",o),t.resolve(o)},function(e){t.reject(e)}),t.promise}function a(){var e="/eRegistroAPI/Admin/Entities/";return $.jrzStorage.local.exists("classPat")?t=$.jrzStorage.local.getItem("classPat"):(console.log(e+"GetClassificacionPat"),n.get(e+"GetClassificacionPat").then(function(e){return t=e.data.Result,$.jrzStorage.local.setItem("classPat",t),t},function(e){return[]}),t)}return a(),$.jrzStorage.local.exists("lists")?o=$.jrzStorage.local.getItem("lists"):r(),{getLists:function(){return o},reFetchLists:function(){return r(),o},getMes:function(e){var t=new Array;return t[0]="ENERO",t[1]="FEBRERO",t[2]="MARZO",t[3]="ABRIL",t[4]="MAYO",t[5]="JUNIO",t[6]="JULIO",t[7]="AGOSTO",t[8]="SEPTIEMBRE",t[9]="OCTUBRE",t[10]="NOVIEMBRE",t[11]="DICIEMBRE",t[e]},getEnLetras:function(e){var t=new Array,n=new Array;t[0]="",t[1]="CERO",t[2]="UNO",t[3]="DOS",t[4]="TRES",t[5]="CUATRO",t[6]="CINCO",t[7]="SEIS",t[8]="SIETE",t[9]="OCHO",t[10]="NUEVE",t[11]="DIEZ",t[12]="ONCE",t[13]="DOCE",t[14]="TRECE",t[15]="CATORCE",t[16]="QUINCE",n[0]="",n[1]="DIEZ",n[2]="VEINTE",n[3]="TREINTA",n[4]="CUARENTA",n[5]="CINCUENTA",n[6]="SESENTA",n[7]="SETENTA",n[8]="OCHENTA",n[9]="NOVENTA";var i=0;return e<16?t[e+1]:0==(i=e%10)?n[(e-i)/10]:n[(e-i)/10]+" Y "+t[i+1]},getDAmnu:function(){return[{_id:"DA001",opcion:"Se declara con lugar",view:"130conlugar.html",_estatus:[],migra:[],stl:"tile-blue"},{_id:"DA002",opcion:"Rechazo",view:"130DARechazo.html",_estatus:[130],migra:[],stl:"tile-red"},{_id:"DA003",opcion:"Suspenso",view:"130DAsuspenso.html",_estatus:[130],migra:[],stl:"tile-yellow"},{_id:"DA004",opcion:"Operar Memorial",view:"131OperarMemorial.html",_estatus:[131,133],migra:[],stl:"tile-green"},{_id:"DA005",opcion:"Levantar Suspenso",view:"133LevantarSuspenso.html",_estatus:[133],migra:[],stl:"tile-greenDark"},{_id:"DA006",opcion:"Recurso de Revocatoria",view:"135RecursoRevocatoria.html",_estatus:[135],migra:[],stl:"tile-green"},{_id:"DA007",opcion:"Elevando Recurso Revocatoria",view:"136ElevandoRecurso.html",_estatus:[136],migra:[],stl:"tile-yellow"},{_id:"DA008R",opcion:"Por Recibido MINECO-Registro",view:"137PorRecibidoMINECOR.html",_estatus:[137],migra:[],stl:"tile-greenDark"},{_id:"DA008A",opcion:"Por Recibido MINECO-Archivo",view:"137PorRecibidoMINECOA.html",_estatus:[137],migra:[],stl:"tile-greenDark"},{_id:"DA009",opcion:"Notificar",view:"140Notificar.html",_estatus:[140],migra:[],stl:"tile-green"},{_id:"DA010",opcion:"Emitir Titulo (Registro)",view:"140EmitirTitulo.html",_estatus:[140,141],migra:[],stl:"tile-blue"},{_id:"DA011",opcion:"Cambiar Estatus",view:"00CambiarEstatus.html",_estatus:[],migra:[],stl:"tile-red"},{_id:"DA012",opcion:"Reposicion de Titulo",view:"135ReposiciondeTitulo.html",_estatus:[135],migra:[],stl:"tile-orange"}]},getPatentesmnu:function(){return[{_id:"PAT001",opcion:"Requerimiento de examen de forma",view:"Requerimiento_De_Examen_De_Forma.html",_estatus:[59],migra:[],stl:"tile-yellow"},{_id:"PAT002",opcion:"Gestor Oficioso",view:"Gestor_Oficioso.html",_estatus:[],migra:[],stl:"tile-blue"},{_id:"PAT003",opcion:"Admision Trámite",view:"Admision_Tramite.html",_estatus:[59,60,63],migra:[],stl:"tile-blue"},{_id:"PAT004",opcion:"Edicto",view:"Edicto.html",_estatus:[64,116],migra:[],stl:"tile-blue"},{_id:"PAT005",opcion:"Publicaciones",view:"Publicaciones.html",_estatus:[66],migra:[],stl:"tile-green"},{_id:"PAT006",opcion:"Admite observaciones",view:"Admite_Observaciones.html",_estatus:[67],migra:[],stl:"tile-yellow"},{_id:"PAT007",opcion:"Orden de Pago",view:"Orden_De_Pago.html",_estatus:[67,106,125,126],migra:[],stl:"tile-greenDark"},{_id:"PAT008",opcion:"Pago Examen",view:"Pago_Examen.html",_estatus:[68],migra:[],stl:"tile-greenDark"},{_id:"PAT009",opcion:"Requerimiento examen de fondo A",view:"Requerimiento_Examen_De_Fondo_A.html",_estatus:[97,101],migra:[],stl:"tile-orange"},{_id:"PAT010",opcion:"Requerimiento examen de fondo B",view:"Requerimiento_Examen_de_Fondo_B.html",_estatus:[97,101],migra:[],stl:"tile-orange"},{_id:"PAT011",opcion:"Reporte de exámen de fondo",view:"Reporte_De_Examen_De_Fondo.html",_estatus:[],migra:[],stl:"tile-greenDark"},{_id:"PAT012",opcion:"Informe de Busqueda",view:"Informe_de_Busqueda.html",_estatus:[],migra:[],stl:"tile-yellow"},{_id:"PAT013",opcion:"Razón de Abandono",view:"Razon_De_Abandono.html",_estatus:[],migra:[],stl:"tile-orange"},{_id:"PAT014",opcion:"Desistimiento Solicitud ",view:"Desistimiento_Solicitud.html",_estatus:[],migra:[],stl:"tile-red"},{_id:"PAT015",opcion:"Titulo",view:"Titulo.html",_estatus:[70,75,81,104],migra:[],stl:"tile-blue"},{_id:"PAT016",opcion:"Notificacion",view:"Notificacion.html",_estatus:[61,62,64,71,72,76,77,78,82,95,98,99,106,116],migra:[],stl:"tile-green"},{_id:"PAT017",opcion:"Traspaso",view:"Traspaso.html",_estatus:[],migra:[],stl:"tile-blue"},{_id:"PAT018",opcion:"Cambio de Nombre",view:"Cambio_De_Nombre.html",_estatus:[],migra:[],stl:"tile-yellow"},{_id:"PAT019",opcion:"Titulo Renovación ",view:"Titulo_Renovacion.html",_estatus:[88],migra:[],stl:"tile-greenDark"},{_id:"PAT020",opcion:"Reposición Titulo Patente ",view:"Reposicion_Titulo_Patente.html",_estatus:[88],migra:[],stl:"tile-blue"},{_id:"PAT021",opcion:"Certificaciones",view:"Certificaciones.html",_estatus:[88],migra:[],stl:"tile-greenDark"},{_id:"PAT022",opcion:"Cambiar Estatus",view:"PAT022.html",_estatus:[],migra:[],stl:"tile-red"},{_id:"PAT023",opcion:"Resolución Customizada",view:"PAT023.html",_estatus:[],migra:[],stl:"tile-blue"}]},getGrlPerms:function(){return[{_id:"MAR999",opcion:"Ingresar Expediente Marcas"},{_id:"MAR998",opcion:"Actualizar Expediente Marcas"},{_id:"PAT997",opcion:"Ingresar Expediente Patentes"},{_id:"PAT996",opcion:"Actualizar Expediente Patentes"},{_id:"DA995",opcion:"Ingresar Expediente Derecho de Autor"},{_id:"DA994",opcion:"Actualizar Expediente Derecho de Autor"}]},getMarcasmnu:function(){return[{_id:"MAR100",opcion:"Examen de Forma",_estatus:[],menu:[{_id:"MAR101",opcion:"Gestor Oficioso",view:"Gestor_Oficioso.html",_estatus:[7],migra:[],stl:"tile-yellow"},{_id:"MAR102",opcion:"Requerimientos",view:"Requerimientos.html",_estatus:[7],migra:[],stl:"tile-blue"},{_id:"MAR103",opcion:"Objeciones Forma",view:"Objeciones_Forma.html",_estatus:[7],migra:[],stl:"tile-blue"}]},{_id:"MAR200",opcion:"Examen Novedad",_estatus:[],menu:[{_id:"MAR201",opcion:"Objeciones Fondo",view:"Objeciones_Fondo.html",_estatus:[7],migra:[],stl:"tile-yellow"}]},{_id:"MAR400",opcion:"Edictos",view:"Edictos.html",_estatus:[28],migra:[],stl:"tile-blue"},{_id:"MAR600",opcion:"Orden de Pago",view:"Orden_de_Pago.html",_estatus:[31],migra:[],stl:"tile-blue"},{_id:"MAR700",opcion:"Titulo",view:"Titulo.html",_estatus:[33],migra:[],stl:"tile-blue"},{_id:"MAR800",opcion:"Resoluciones",_estatus:[],menu:[{_id:"MAR801",opcion:"Reposición de edicto",view:"Reposicion_de_edicto.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR802",opcion:"Enmienda",view:"Enmienda.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR803",opcion:"Cancelación",view:"Cancelacion.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR804",opcion:"Traspaso",view:"Traspaso.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR805",opcion:"División Registro",view:"Division_Registro.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR806",opcion:"Abandono",view:"Abandono.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR807",opcion:"Desistimiento",view:"Desistimiento.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR808",opcion:"Rechazo por objecion",view:"Rechazo_por_objecion.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR809",opcion:"Revocatoria de Oficio",view:"Revocatoria_de_Oficio.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR810",opcion:"Resolución Customizada",view:"Resolucion_Customizada.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR811",opcion:"Errores Materiales",view:"Errores_Materiales.html",_estatus:[],migra:[],stl:"tile-blue"}]},{_id:"MAR900",opcion:"Cambiar Estatus",view:"Cambiar_Estatus.html",_estatus:[],migra:[],stl:"tile-red"},{_id:"MAR901",opcion:"Notificaciones",view:"Notificaciones.html",_estatus:[],migra:[],stl:"tile-red"}]},getAnotacionesmnu:function(){return[{_id:"ANOTA100",opcion:"Resolución Customizada",view:"Resolucion_Customizada.html",_estatus:[],migra:[],stl:"tile-red"},{_id:"ANOTA200",opcion:"Notificaciones",view:"Notificaciones.html",_estatus:[],migra:[],stl:"tile-red"}]},printDoc:function(e){var t=window.open("","_blank");t.window.focus(),t.document.write(e.data),t.focus(),window.setTimeout(function(){t.print()},500)},getClassificacionPat:a}}]).factory("sessionInjector",["$q",function(t){var n={_id:0xe04998456557e80};return{request:function(e){return $.jrzStorage.local.exists("appUser")&&(n=$.jrzStorage.local.getItem("appUser")),$("#appSpinner").show(),e.headers.access_token="",n.accessToken&&(e.headers.access_token=n.accessToken),e},requestError:function(e){return console.log("REJECTION:"),console.log(e),$("#appSpinner").hide(),t.reject(e)},response:function(e){return $("#appSpinner").hide(),e},responseError:function(e){return $("#appSpinner").hide(),t.reject(e)}}}]).factory("classSrvc",["$http","$q","authService",function(e,n,t){var o;function r(){var t=n.defer();return e.get("/publico/content/json/viena.json").then(function(e){o=e.data,$.jrzStorage.local.setItem("vienaClass",o),t.resolve(o)},function(e){t.reject(e)}),t.promise}return console.log("classSrvc init..."),r(),{getNizaClass:function(){var e=[];for(i=0;i<46;i++)e.push({code:i,selected:!1});return e.push({code:99,selected:!1}),e.push({code:"All",selected:!1}),e},getVienaClass:function(){return $.jrzStorage.local.exists("vienaClass")?o=$.jrzStorage.local.getItem("vienaClass"):r(),o},getGrupos:function(){return e.get("/eRegistroAPI/Favoritos/GetGrupos",{headers:{access_token:t.getToken()}})}}}]).factory("bouncer",[function(){var e={isUnauthorizedActionForDA:function(e,t,n){return!1},isMenuDisabledForDA:function(e,t){return""},isUnauthorizedActionForMarcas:function(e,t,n){return 0!=e._estatus.length&&(""==t||-1==e._estatus.indexOf(n.Expediente.EstatusId))},isMenuDisabledForMarcas:function(e,t){return-1===e._estatus.indexOf(t.Expediente.EstatusId)?"disabled":""},isUnauthorizedActionForPatentes:function(e,t,n){return 0!=e._estatus.length&&(""==t||-1==e._estatus.indexOf(n.Expediente.EstatusId))},isMenuDisabledForPatentes:function(e,t){return""},isUnauthorizedActionForReno:function(e,t,n){return!1},isMenuDisabledForReno:function(e,t){return""},isUnauthorizedActionForAnota:function(e,t,n){return!1},isMenuDisabledForAnota:function(e,t){return""}};return e}]).factory("dateHelper",["uibDateParser",function(t){var e={disabled:function(e,t){return"day"===t&&(10===e.getDay()||6===e.getDay())},dateOptions:{formatYear:"yy",startingDay:1,timezone:"CST"},YearOptions:{formatYear:"yyyy",startingDay:1,minMode:"year"},fixDate:function(e){var t=new Date;return e&&(t=new Date(parseInt(e.substr(6)))),t},formats:["MM/dd/yyyy hh:mm:ss","dd/MM/yyyy","dd.MM.yyyy","shortDate"]};return e.format=e.formats[1],e.minDate=function(){return new Date(1899,1,1)},e.maxDate=function(){return new Date((new Date).setDate((new Date).getDate()+365))},e.parseStrDate=function(e){return 0<e.length?t.parse(e,"yyyy-MM-ddThh:mm:ss"):null},e.WeekendDisabled=function(e,t){return"day"===t&&(10===e.getDay()||6===e.getDay())},e}]).factory("feedbackSrvc",["$q","$timeout","$rootScope","$location",function(e,n,t,i){var o={},r=[],a=function(e){var t=new Date;r.unshift(t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+" "+e)};return o.flush=function(){r=[],t.$broadcast("feedbackOn","feedbackOn")},o.handleError=function(e,t){e&&401===e.status?t="El usuario no tiene permisos para realizar la operacion!":e&&!1===e.Succeeded?t=e.Errors?e.Errors:"El usuario no tiene permisos para realizar la operacion!":t||(t="El sistema ha encontrado un error inesperado, porfavor contacte al administrador del sistema!"),a(t),n(o.flush,1e4,!0)},o.showAlertInfo=function(e,t){a(e),n(o.flush,1e4,!0),t&&n(function(){i.path(t)},1400)},o.isTriggered=function(){return 0<r.length},o.getFeedback=function(){return r},o}]),Array.prototype.firstOrDefault=function(e){for(var t=0;t<this.length;t++)if(e(this,t))return this[t];return null};var yumKaaxControllers=angular.module("gespiControllers",[]);yumKaaxControllers.controller("appCtrlr",["$scope",function(e){}]),yumKaaxControllers.controller("AvisosCtrlr",["$scope","$http","$q","$routeParams","$timeout","$route","dateHelper","authService","listService","feedbackSrvc",function(i,n,e,t,o,r,a,s,u,l){function c(e,t){n.get(s.api()+"/Admin/GacetaAbc/GetPageBySeccion?seccionId="+i.seccionSelected+"&page="+e+"&pageSize="+t).then(function(e){i.avisos=e.data.Result.DataSet,i.totalItems=e.data.Result.TotalItems})}i.$route=r,i.avisos=[],i.publicacion={},i.seccionSelected=4,i.totalItems=0,i.currentPage=1,i.maxSize=5,i.pageSize=10,i.metaData={},i.disabled=a.disabled,i.minDate=a.minDate(),i.maxDate=a.maxDate(),i.fp={opened:!1},i.fe={opened:!1},i.openFp=function(e){i.fp.opened=!0},i.openFe=function(e){i.fe.opened=!0},i.dateOptions=a.dateOptions,i.formats=a.formats,i.format=i.formats[1],s.custodian(function(){i.lists=u.getLists(),i.secciones=i.lists.seccionesGaceta,i.tiposDeRegistro=i.lists.tipoDeRegistroDeMarcas,t.Id?function(e){0<e?n.get(s.api()+"/Admin/GacetaAbc/Index?id="+e).then(function(e){i.publicacion=e.data.Result,i.metaData=i.publicacion.JSONDOC?JSON.parse(i.publicacion.JSONDOC):{},i.mMetaData=angular.copy(i.metaData),i.publicacion.FechaPublicacion=a.parseStrDate(i.publicacion.FechaPublicacion),i.publicacion.FechaEdicto=a.parseStrDate(i.publicacion.FechaEdicto),i.master=angular.copy(i.publicacion),i.onSeccionChange()}):(i.publicacion={},i.publicacion.Id=-1,i.publicacion.GacetaSeccionId=1*t.GacetaSeccionId,i.publicacion.TipoDeRegistroId=0,i.metaData={},i.mMetaData=angular.copy(i.metaData),i.master=angular.copy(i.publicacion),o(function(){i.onSeccionChange()}))}(t.Id):c(1,i.pageSize)}),i.onSeccionChange=function(){1===i.publicacion.GacetaSeccionId?i.tiposDeRegistro=i.lists.tipoDeRegistroDeMarcas:2===i.publicacion.GacetaSeccionId?i.tiposDeRegistro=i.lists.tipoDePatentes:3===i.publicacion.GacetaSeccionId?i.tiposDeRegistro=[{Id:35,Nombre:"Anotaciones"}]:4===i.publicacion.GacetaSeccionId?i.tiposDeRegistro=i.lists.tipoDeRegistroDeMarcas:i.tiposDeRegistro=[{Id:35,Nombre:"Anotaciones"}]},i.isUnchanged=function(e,t){return angular.equals(e,i.master)&&angular.equals(t,i.mMetaData)},i.pagination={current:1},i.pageChanged=function(){c(i.currentPage,i.pageSize)},i.getGacetaBySeccionSelected=function(e,t,n){i.currentPage=1,c(i.currentPage,i.pageSize)},i.update=function(e){e.enabled=!0,e.JSONDOC=JSON.stringify(i.metaData),n.post(s.api()+"/Admin/GacetaAbc/save",{model:e}).then(function(e){e.data.Succeeded?l.showAlertInfo("publicacion ha sido grabado correctamente...","/Gaceta"):l.handleError(null)},function(e){l.handleError(e)})}}]),angular.module("eRegistroAPI",[]).factory("rpiServices",["$http",function(i){var o="/eRegistroAPI",r="/Marca/",e={},t={};return e.getExpedienteByRegistro=function(e,t,n){return n?i.get(o+r+"Registro?tipoDeRegistroId="+e+"&registro="+t+"&letra="+n):i.get(o+r+"Registro?tipoDeRegistroId="+e+"&registro="+t)},t.getExpedienteDeAnotacionByNumero=function(e){return i.get(o+"/Anotacion/Expediente?numero="+e)},{marcas:e,anota:t}}]),angular.module("grlDirectives",[]).directive("equals",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){e.$watch(n.ngModel,function(){o()}),n.$observe("equals",function(e){o()});var o=function(){var e=i.$viewValue,t=n.equals;i.$setValidity("equals",!e||!t||e===t)}}}}}).directive("ngConfirmClick",function(){return{link:function($scope,element,attr){var msg=attr.ngConfirmClick||"Esta segur@? de continuar",clickAction=attr.confirmedClick,jsClick=attr.jsClick;element.bind("click",function(event){window.confirm(msg)&&($scope.$eval(clickAction),eval(jsClick))})}}}).directive("confirmAction",["$uibModal","$parse",function(o,r){return{restrict:"EA",link:function(t,e,n){if(n.continueWith){var i=function(){t.msg=n.msg?n.msg:"Continuar?",t.confirmButtonText=n.confirmButtonText?n.confirmButtonText:"Yes",t.cancelButtonText=n.cancelButtonText?n.cancelButtonText:"No"};e.click(function(){var e=r(n.continueWith);if((console.log(n.askWhen),n.askWhen)&&!r(n.askWhen)(t))return e(t),void t.$apply();o.open({size:"sm",template:'<div class="modal-header"><h3 class="modal-title">{{msg}}</h3></div><div class="modal-footer"><div class="row"> <div class="col-md-4"><button type="button" class="btn btn-primary btn-block" ng-click="$close(\'ok\')">{{ confirmButtonText }}</button></div> <div class="col-md-4"><button type="button" class="btn btn-primary btn-block" ng-click="$dismiss(\'cancel\')">{{ cancelButtonText }}</button></div></div></div>',controller:i,scope:t}).result.then(function(){e(t),t.$apply()})})}}}}]).directive("loadSpinner",["$http","$rootScope",function(i,o){return{link:function(e,t,n){o.spinnerActive=!1,e.isLoading=function(){return 0<i.pendingRequests.length},e.$watch(e.isLoading,function(e){(o.spinnerActive=e)?t.removeClass("ng-hide"):t.addClass("ng-hide")})},template:'<div id="appSpinner"><div class="kart-loader"><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div></div></div>'}}]),angular.module("appfeedback",[]).directive("appFeedback",["feedbackSrvc",function(i){return{link:function(n,e,t){n.feedbackLog=[],n.isTriggered=function(){return i.isTriggered()},n.$watch(n.isTriggered,function(e){n.feedbackLog=i.getFeedback()}),n.$on("feedbackOn",function(e,t){n.feedbackLog=i.getFeedback()}),n.closeAppPopup=function(){i.flush()}},template:'<div class="message-popup-box box-feedback" style="right: 0px;" ng-show="feedbackLog.length>0"><div class="popup-header box-header box-feedback"><span class="glyphicon glyphicon-exclamation-sign" font-size 20px;></span> Aviso(s) del Sistema<span class="glyphicon glyphicon-remove close-popup-box" ng-click="closeAppPopup()"></span></div><div class="popup-body"><table class="table table-striped tbl-text-warns"><tbody><tr ng-repeat="m in feedbackLog"><td  ng-bind="m"></td></tr></tbody></table></div></div>'}}]);var yumKaaxApp=angular.module("yumKaaxApp",["ngRoute","gespiControllers","authFactory","grlDirectives","ngAnimate","ngSanitize","ui.bootstrap","ngSanitize","ui.utils","textAngular","appfeedback"]);yumKaaxApp.config(["$routeProvider",function(e){var t="./Spa/Views/";e.when("/Gaceta",{templateUrl:t+"Recepcion/GacetaPublicacion.html",controller:"AvisosCtrlr"}).when("/Gaceta/:Id/:GacetaSeccionId",{templateUrl:t+"Recepcion/GacetaPublicacionAbc.html",controller:"AvisosCtrlr"}).otherwise({redirectTo:""})}]),yumKaaxApp.filter("dateformat",function(){var n=/\\\/Date\(([0-9]*)\)\\\//;return function(e){var t=e.match(n);return t?new Date(parseInt(t[1])):null}}),yumKaaxApp.run(["$rootScope","$location","authService",function(e,o,t){e.$on("$routeChangeSuccess",function(e){0<=o.path().indexOf("olvide-clave")||null!==t.getUserInfo()&&void 0!==t.getUserInfo()||o.path("/login")}),e.$on("$routeChangeError",function(e,t,n,i){!1===i.authenticated&&o.path("/login")})}]),yumKaaxApp.config(["$httpProvider",function(e){e.interceptors.push("sessionInjector")}]),Array.prototype.remove=function(){for(var e,t,n=arguments,i=n.length;i&&this.length;)for(e=n[--i];-1!==(t=this.indexOf(e));)this.splice(t,1);return this};