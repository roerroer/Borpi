/* rpi GES*/
function uiUploader(e){"use strict";var i=this;function a(e){i.options=e;for(var t=0;t<i.files.length&&i.activeUploads!=i.options.concurrency;t++)i.files[t].active||o(i.files[t],i.options.url)}return i.files=[],i.options={},i.activeUploads=0,e.info("uiUploader loaded"),{addFiles:function(e){for(var t=0;t<e.length;t++)i.files.push(e[t])},getFiles:function(){return i.files},files:i.files,startUpload:a,removeFile:function(e){i.files.splice(i.files.indexOf(e),1)},removeAll:function(){i.files.splice(0,i.files.length)}};function o(t,e){var o,n;return i.activeUploads+=1,t.active=!0,o=new window.XMLHttpRequest,n=new window.FormData,o.open("POST",e),o.upload.onloadstart=function(){},o.upload.onprogress=function(e){e.lengthComputable&&(t.loaded=e.loaded,t.humanSize=function(e){var t=+Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toFixed(t?1:0)+" "+["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"][isNaN(e)?0:1+t]}(e.loaded),i.options.onProgress(t))},o.onload=function(){i.activeUploads-=1,a(i.options),i.options.onCompleted(t)},o.onerror=function(){},n.append("file",t,t.name),o.send(n),o}}!function(){"use strict";(window.jQuery||window.$||(window.$={})).jrzStorage={local:{exists:function(e){return localStorage[e]},setItem:function(e,t,o){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){return console.log(e.message),null}return t},getItem:function(e){try{var t=JSON.parse(localStorage.getItem(e))}catch(e){return console.log(e.message),null}return t},removeItem:function(e){try{return localStorage.removeItem(e),!0}catch(e){console.log(e.message)}return!1},clear:function(){try{localStorage.clear()}catch(e){console.log(e.message)}return!0}},session:{exists:function(e){return sessionStorage[e]},setItem:function(e,t,o){try{sessionStorage.setItem(e,JSON.stringify(t))}catch(e){return console.log(e.message),null}return t},getItem:function(e){try{var t=JSON.parse(sessionStorage.getItem(e))}catch(e){return console.log(e.message),null}return t},removeItem:function(e){try{return sessionStorage.removeItem(e),!0}catch(e){console.log(e.message)}return!1},clear:function(){try{sessionStorage.clear()}catch(e){console.log(e.message)}return!0}}},function(){if("localStorage"in window)try{window.localStorage.setItem("__test","__test"),window.localStorage.removeItem("__test")}catch(e){console.log(e.message)}}()}(),angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function(o,e){"use strict";e=e||{},angular.forEach(e,function(e,t){angular.isString(e)&&(e={replace:!0,template:e}),o.directive(t,function(){return e})})}]),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(a){"use strict";return function(n,i,e){var t=n.$eval(e.uiEvent);angular.forEach(t,function(e,t){var o=a(e);i.bind(t,function(e){var t=Array.prototype.slice.call(arguments);t=t.splice(1),o(n,{$event:e,$params:t}),n.$$phase||n.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){"use strict";return function(e,o){var n=e;if(angular.isString(n)&&void 0!==o)if(angular.isArray(o)||angular.isObject(o)||(o=[o]),angular.isArray(o)){var i=o.length;n=n.replace(/\$([0-9]+)/g,function(e,t){return 0<=(t=parseInt(t,10))&&t<i?o[t]:e})}else angular.forEach(o,function(e,t){n=n.split(":"+t).join(e)});return n}}),angular.module("ui.highlight",[]).filter("highlight",function(){"use strict";return function(e,t,o){return e&&(t||angular.isNumber(t))?(e=e.toString(),t=t.toString(),o?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(p,f,m,g){"use strict";return{restrict:"ECA",terminal:!0,compile:function(e,t){var l=t.uiInclude||t.src,c=t.fragment||"",u=t.onload||"",d=t.autoscroll;return function(i,a){var r,s=0,t=function(){r&&(r.$destroy(),r=null),a.html("")};function e(){var o=++s,e=i.$eval(l),n=i.$eval(c);e?p.get(e,{cache:f}).success(function(e){var t;o===s&&(r&&r.$destroy(),r=i.$new(),t=n?angular.element("<div/>").html(e).find(n):angular.element("<div/>").html(e).contents(),a.html(t),g(t)(r),!angular.isDefined(d)||d&&!i.$eval(d)||m(),r.$emit("$includeContentLoaded"),i.$eval(u))}).error(function(){o===s&&t()}):t()}i.$watch(c,e),i.$watch(l,e)}}}}]),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){"use strict";return{compile:function(e,t){return t.type&&"checkbox"===t.type.toLowerCase()?function(e,t,o){e.$watch(o.uiIndeterminate,function(e){t[0].indeterminate=!!e})}:angular.noop}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){"use strict";function t(e){return(e=e.replace(/([A-Z])|([\-|\_])/g,function(e,t){return" "+(t||"")})).replace(/\s\s+/g," ").trim().toLowerCase().split(" ")}function o(e){var t=[];return angular.forEach(e,function(e){t.push(e.charAt(0).toUpperCase()+e.substr(1))}),t}var n={humanize:function(e){return o(t(e)).join(" ")},underscore:function(e){return t(e).join("_")},variable:function(e){return e=(e=t(e))[0]+o(e.slice(1)).join("")}};return function(e,t){return!1!==t&&angular.isString(e)?n[t=t||"humanize"](e):e}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(o,r){"use strict";return{restrict:"A",compile:function(e,t){if(!angular.isFunction(e[t.uiJq]))throw new Error('ui-jq: The "'+t.uiJq+'" function does not exist');var a=o&&o[t.uiJq];return function(e,t,o){var n=[];function i(){r(function(){t[o.uiJq].apply(t,n)},0,!1)}o.uiOptions?(n=e.$eval("["+o.uiOptions+"]"),angular.isObject(a)&&angular.isObject(n[0])&&(n[0]=angular.extend({},a,n[0]))):a&&(n=[a]),o.ngModel&&t.is("select,input,textarea")&&t.bind("change",function(){t.trigger("input")}),o.uiRefresh&&e.$watch(o.uiRefresh,function(){i()}),i()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(a){"use strict";var f={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"};return function(e,p,t,o){var n,i=[];n=p.$eval(o["ui"+function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(e)]),angular.forEach(n,function(e,t){var o,n;n=a(e),angular.forEach(t.split(" "),function(e){o={expression:n,keys:{}},angular.forEach(e.split("-"),function(e){o.keys[e]=!0}),i.push(o)})}),t.bind(e,function(r){var s=!(!r.metaKey||r.ctrlKey),l=!!r.altKey,c=!!r.ctrlKey,u=!!r.shiftKey,d=r.keyCode;"keypress"===e&&!u&&97<=d&&d<=122&&(d-=32),angular.forEach(i,function(e){var t=e.keys[f[d]]||e.keys[d.toString()],o=!!e.keys.meta,n=!!e.keys.alt,i=!!e.keys.ctrl,a=!!e.keys.shift;t&&o==s&&n==l&&i==c&&a==u&&p.$apply(function(){e.expression(p,{$event:r})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(n){"use strict";return{link:function(e,t,o){n("keydown",e,t,o)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(n){"use strict";return{link:function(e,t,o){n("keypress",e,t,o)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(n){"use strict";return{link:function(e,t,o){n("keyup",e,t,o)}}}]),angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/^[0-9 ]+$/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9 _]/},clearOnBlur:!0}).directive("uiMask",["uiMaskConfig","$parse",function(e,x){"use strict";return{priority:100,require:"ngModel",restrict:"A",compile:function(){var S=e;return function(I,A,i,y){var b,a,r,s,l,t,o,n,C,_,N,F,c=!1,u=!1,e=i.placeholder,d=i.maxlength;var p={};i.uiOptions?(p=I.$eval("["+i.uiOptions+"]"),angular.isObject(p[0])&&(p=function(e,t){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(void 0===t[o]?t[o]=angular.copy(e[o]):angular.extend(t[o],e[o]));return t}(S,p[0]))):p=S,i.$observe("uiMask",function(e){return angular.isDefined(e)?(function(e){var o=0;if(b=[],a=[],r="","string"==typeof e){l=0;var n=!1,t=e.split("");angular.forEach(t,function(e,t){p.maskDefinitions[e]?(b.push(o),r+=function(e){var t=i.placeholder;return void 0!==t&&t[e]?t[e]:"_"}(t),a.push(p.maskDefinitions[e]),o++,n||l++):"?"===e?n=!0:(r+=e,o++)})}b.push(b.slice().pop()+1),s=r.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_"),c=1<b.length}(e),c?(function(){t=_=w(y.$modelValue||""),o=C=T(t);var e=(n=g(t))&&t.length?o:"";i.maxlength&&A.attr("maxlength",2*b[b.length-1]),A.attr("placeholder",r),A.val(e),y.$viewValue=e}(),u||(A.bind("blur",h),A.bind("mousedown mouseup",v),A.bind("input keyup click focus",D),u=!0),!0):m()):m()}),i.$observe("placeholder",function(e){angular.isDefined(e)&&(r=e,c&&D())});var f=!1;function m(){return c=!1,function(){if(!u)return;A.unbind("blur",h),A.unbind("mousedown",v),A.unbind("mouseup",v),A.unbind("input",D),A.unbind("keyup",D),A.unbind("click",D),A.unbind("focus",D),u=!1}(),angular.isDefined(e)?A.attr("placeholder",e):A.removeAttr("placeholder"),angular.isDefined(d)?A.attr("maxlength",d):A.removeAttr("maxlength"),A.val(y.$modelValue),y.$viewValue=y.$modelValue,!1}function g(e){return!e.length||e.length>=l}function w(t){var o="",n=a.slice();return t=t.toString(),angular.forEach(s,function(e){t=t.replace(e,"")}),angular.forEach(t.split(""),function(e){n.length&&n[0].test(e)&&(o+=e,n.shift())}),o}function T(o){var n="",i=b.slice();return angular.forEach(r.split(""),function(e,t){o.length&&t===i[0]?(n+=o.charAt(0)||"_",o=o.substr(1),i.shift()):n+=e}),n}function h(){p.clearOnBlur&&(F=N=0),n&&0!==t.length||(p.clearOnBlur&&(o="",A.val("")),I.$apply(function(){y.$setViewValue("")}))}function v(e){"mousedown"===e.type?A.bind("mouseout",E):A.unbind("mouseout",E)}function E(){F=$(this),A.unbind("mouseout",E)}function D(e){var t=(e=e||{}).which,o=e.type;if(16!==t&&91!==t){var n,i=A.val(),a=C,r=w(i),s=_,l=!1,c=function(e){if(!e)return 0;{if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();return t.moveStart("character",e.value?-e.value.length:0),t.text.length}}return 0}(this)||0,u=N||0,d=c-u,p=b[0],f=b[r.length]||b.slice().shift(),m=F||0,g=0<$(this),h=0<m,v=i.length>a.length||m&&i.length>a.length-m,E=i.length<a.length||m&&i.length===a.length-m,D=37<=t&&t<=40&&e.shiftKey,S=8===t||"keyup"!==o&&E&&-1==d,x=46===t||"keyup"!==o&&E&&0==d&&!h,O=(37===t||S||"click"===o)&&p<c;if(F=$(this),!D&&(!g||"click"!==o&&"keyup"!==o)){if("input"===o&&E&&!h&&r===s){for(;S&&p<c&&!P(c);)c--;for(;x&&c<f&&-1===b.indexOf(c);)c++;var R=b.indexOf(c);r=r.substring(0,R)+r.substring(R+1),l=!0}for(n=T(r),C=n,_=r,A.val(n),l&&I.$apply(function(){y.$setViewValue(r)}),v&&c<=p&&(c=p+1),O&&c--,c=f<c?f:c<p?p:c;!P(c)&&p<c&&c<f;)c+=O?-1:1;(O&&c<f||v&&!P(u))&&c++,function(e,t){if(!e)return;if(0===e.offsetWidth||0===e.offsetHeight)return;if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var o=e.createTextRange();o.collapse(!0),o.moveEnd("character",t),o.moveStart("character",t),o.select()}}(this,N=c)}}}function P(e){return-1<b.indexOf(e)}function $(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0:0}i.$observe("modelViewValue",function(e){"true"===e&&(f=!0)}),I.$watch(i.ngModel,function(e){f&&e&&x(i.ngModel).assign(I,y.$viewValue)}),y.$formatters.push(function(e){return c?(t=w(e||""),n=g(t),y.$setValidity("mask",n),n&&t.length?T(t):void 0):e}),y.$parsers.push(function(e){return c?(t=w(e||""),n=g(t),y.$viewValue=t.length?T(t):"",y.$setValidity("mask",n),""===t&&i.required&&y.$setValidity("required",!y.$error.required),n?t:void 0):e}),A.bind("mousedown mouseup",v),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),o=t.length>>>0;if(0==o)return-1;var n=0;if(1<arguments.length&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(0<n||-1)*Math.floor(Math.abs(n)))),o<=n)return-1;for(var i=0<=n?n:Math.max(o-Math.abs(n),0);i<o;i++)if(i in t&&t[i]===e)return i;return-1})}}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(e){"use strict";var a=null;return void 0!==e&&(a=e),{require:"ngModel",link:function(t,e,o,n){var i;i=angular.element('<a class="ui-reset" />'),e.wrap('<span class="ui-resetwrap" />').after(i),i.bind("click",function(e){e.preventDefault(),t.$apply(function(){o.uiReset?n.$setViewValue(t.$eval(o.uiReset)):n.$setViewValue(a),n.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(l,c){"use strict";return{restrict:"AC",scope:!0,compile:function(e,t){var s;if(t.uiRoute)s="uiRoute";else if(t.ngHref)s="ngHref";else{if(!t.href)throw new Error("uiRoute missing a route or href property on "+e[0]);s="href"}return function(o,e,t){var n=c(t.ngModel||t.routeModel||"$uiRoute").assign,i=angular.noop;function a(e){var t=e.indexOf("#");-1<t&&(e=e.substr(t+1)),(i=function(){n(o,-1<l.path().indexOf(e))})()}function r(t){var e=t.indexOf("#");-1<e&&(t=t.substr(e+1)),(i=function(){var e=new RegExp("^"+t+"$",["i"]);n(o,e.test(l.path()))})()}switch(s){case"uiRoute":t.uiRoute?r(t.uiRoute):t.$observe("uiRoute",r);break;case"ngHref":t.ngHref?a(t.ngHref):t.$observe("ngHref",a);break;case"href":a(t.href)}o.$on("$routeChangeSuccess",function(){i()}),o.$on("$stateChangeSuccess",function(){i()})}}}}]),angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(e,r){"use strict";return{registerFor:function(o){var f,n,a,m,t,g,i;return n=angular.element.prototype.css,o.prototype.css=function(e,t){var o;if((o=this[0])&&3!==o.nodeType&&8!==o.nodeType&&o.style)return n.call(this,e,t)},g=function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},i=function(e,t,o){var n,i,a,r,s;return n=e[0],i=(s={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[t])[0],r=s[1],a=s[2],g(n)?angular.isDefined(o)?n.scrollTo(e[a].call(e),o):r in n?n[r]:n.document.documentElement[i]:angular.isDefined(o)?n[i]=o:n[i]},f=r.getComputedStyle?(m=function(e){return r.getComputedStyle(e,null)},function(e,t){return parseFloat(t)}):(m=function(e){return e.currentStyle},function(e,t){var o,n,i,a,r;return new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i").test(t)?(o=(r=e.style).left,a=(i=e.runtimeStyle)&&i.left,i&&(i.left=r.left),r.left=t,n=r.pixelLeft,r.left=o,a&&(i.left=a),n):parseFloat(t)}),a=function(e,t){var o,n,i,a,r,s,l,c,u,d,p;return g(e)?{base:o=document.documentElement[{height:"clientHeight",width:"clientWidth"}[t]],padding:0,border:0,margin:0}:(o=(p={width:[e.offsetWidth,"Left","Right"],height:[e.offsetHeight,"Top","Bottom"]}[t])[0],l=p[1],c=p[2],s=m(e),u=f(e,s["padding"+l])||0,d=f(e,s["padding"+c])||0,n=f(e,s["border"+l+"Width"])||0,i=f(e,s["border"+c+"Width"])||0,a=s["margin"+l],r=s["margin"+c],{base:o,padding:u+d,border:n+i,margin:(f(e,a)||0)+(f(e,r)||0)})},t=function(e,t,o){var n,i;return 0<(n=a(e,t)).base?{base:n.base-n.padding-n.border,outer:n.base,outerfull:n.base+n.margin}[o]:(((i=m(e)[t])<0||null===i)&&(i=e.style[t]||0),{base:(i=parseFloat(i)||0)-n.padding-n.border,outer:i,outerfull:i+n.padding+n.border+n.margin}[o])},angular.forEach({before:function(e){var t,o,n,i,a,r;if(o=this[0],(t=(i=this.parent()).contents())[0]===o)return i.prepend(e);for(n=a=1,r=t.length-1;1<=r?a<=r:r<=a;n=1<=r?++a:--a)if(t[n]===o)return void angular.element(t[n-1]).after(e);throw new Error("invalid DOM structure "+o.outerHTML)},height:function(e){return this,angular.isDefined(e)?(angular.isNumber(e)&&(e+="px"),n.call(this,"height",e)):t(this[0],"height","base")},outerHeight:function(e){return t(this[0],"height",e?"outerfull":"outer")},offset:function(e){var t,o,n,i,a;if(this,arguments.length){if(void 0===e)return this;throw new Error("offset setter method is not implemented")}if(t={top:0,left:0},o=(i=this[0])&&i.ownerDocument)return n=o.documentElement,null!=i.getBoundingClientRect&&(t=i.getBoundingClientRect()),a=o.defaultView||o.parentWindow,{top:t.top+(a.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(a.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},scrollTop:function(e){return i(this,"top",e)},scrollLeft:function(e){return i(this,"left",e)}},function(e,t){if(!o.prototype[t])return o.prototype[t]=e})}}}]).run(["$log","$window","jqLiteExtras",function(e,t,o){"use strict";if(!t.jQuery)return o.registerFor(angular.element)}]),angular.module("ui.scroll",[]).directive("uiScrollViewport",["$log",function(){"use strict";return{controller:["$scope","$element",function(e,t){return this.viewport=t,this}]}}]).directive("uiScroll",["$log","$injector","$rootScope","$timeout",function(X,ee,te,oe){"use strict";return{require:["?^uiScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:function(e,t,Q){return function(a,p,t,s){var f,m,g,c,h,v,u,l,d,E,o,e,D,S,x,n,i,O,R,r,I,A,y,b,C,_,N,F,w,T,P,$,M,J,k,L,H,z,q,B,j,V,U,G,K,W,Y,Z;if(N=X.debug||X.log,!(F=t.uiScroll.match(/^\s*(\w+)\s+in\s+([\w\.]+)\s*$/)))throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '"+t.uiScroll+"'");if(C=F[1],e=F[2],!(y=function(e){return angular.isObject(e)&&e.get&&angular.isFunction(e.get)})(o=(r=function(e,t){var o;return e?(o=t.match(/^([\w]+)\.(.+)$/))&&3===o.length?r(e[o[1]],o[2]):e[t]:null})(a,e))&&!y(o=ee.get(e)))throw new Error(e+" is not a valid datasource");return l=Math.max(3,+t.bufferSize||10),u=function(){return W.outerHeight()*Math.max(.1,+t.padding||.1)},L=function(e){var t;return null!=(t=e[0].scrollHeight)?t:e[0].document.documentElement.scrollHeight},f=null,Q(B=a.$new(),function(e){var t,o,n,i,a,r;if("dl"===(i=e[0].localName))throw new Error("ui-scroll directive does not support <"+e[0].localName+"> as a repeating tag: "+e[0].outerHTML);return"li"!==i&&"tr"!==i&&(i="div"),(r=s[0]&&s[0].viewport?s[0].viewport:angular.element(window)).css({"overflow-y":"auto",display:"block"}),a=(o=function(t,e,o){return e[{top:"before",bottom:"after"}[o]](t),{paddingHeight:function(){return t.paddingHeight.apply(t,arguments)},insert:function(e){return t[{top:"after",bottom:"before"}[o]](e)}}})((n=function(e){var t,o,n;switch(e){case"tr":return n=angular.element("<table><tr><td><div></div></td></tr></table>"),t=n.find("div"),(o=n.find("tr")).paddingHeight=function(){return t.height.apply(t,arguments)},o;default:return(o=angular.element("<"+e+"></"+e+">")).paddingHeight=o.height,o}})(i),p,"top"),t=o(n(i),p,"bottom"),B.$destroy(),f={viewport:r,topPadding:a.paddingHeight,bottomPadding:t.paddingHeight,append:t.insert,prepend:a.insert,bottomDataPos:function(){return L(r)-t.paddingHeight()},topDataPos:function(){return a.paddingHeight()}}}),W=f.viewport,Y=W.scope()||te,angular.isDefined(t.topVisible)&&(U=function(e){return Y[t.topVisible]=e}),angular.isDefined(t.topVisibleElement)&&(V=function(e){return Y[t.topVisibleElement]=e}),angular.isDefined(t.topVisibleScope)&&(K=function(e){return Y[t.topVisibleScope]=e}),j=function(e){if(U&&U(e.scope[C]),V&&V(e.element),K&&K(e.scope),o.topVisible)return o.topVisible(e)},_=angular.isDefined(t.isLoading)?function(e){if(Y[t.isLoading]=e,o.loading)return o.loading(e)}:function(e){if(o.loading)return o.loading(e)},J=0,w=R=1,v=[],b=c=x=!(T=[]),$=function(e,t){var o,n;for(o=n=e;e<=t?n<t:t<n;o=e<=t?++n:--n)v[o].scope.$destroy(),v[o].element.remove();return v.splice(e,t-e)},P=function(){return J++,w=R=1,$(0,v.length),f.topPadding(0),f.bottomPadding(0),m(J,c=x=!(T=[]))},h=function(){return W.scrollTop()+W.outerHeight()},G=function(){return W.scrollTop()},H=function(){return!x&&f.bottomDataPos()<h()+u()},d=function(){var e,t,o,n,i,a,r,s,l,c;for(r=e=0,t=l=c=v.length-1;c<=0?l<=0:0<=l;t=c<=0?++l:--l)if(a=s!==(i=(o=v[t]).element.offset().top),s=i,a&&(n=o.element.outerHeight(!0)),f.bottomDataPos()-e-n>h()+u())a&&(e+=n),r++,x=!1;else{if(a)break;r++}if(0<r)return f.bottomPadding(f.bottomPadding()+e),$(v.length-r,v.length),w-=r,N("clipped off bottom "+r+" bottom padding "+f.bottomPadding())},z=function(){return!c&&f.topDataPos()>G()-u()},E=function(){var e,t,o,n,i,a,r,s,l;for(s=i=r=0,l=v.length;s<l;s++)if(n=a!==(o=(e=v[s]).element.offset().top),a=o,n&&(t=e.element.outerHeight(!0)),f.topDataPos()+r+t<G()-u())n&&(r+=t),i++,c=!1;else{if(n)break;i++}if(0<i)return f.topPadding(f.topPadding()+r),$(0,i),R+=i,N("clipped off top "+i+" top padding "+f.topPadding())},S=function(e,t,o){if(b||_(b=!0),1===T.push(t))return i(e,o)},I=function(e){return e.displayTemp=e.css("display"),e.css("display","none")},q=function(e){if(e.hasOwnProperty("displayTemp"))return e.css("display",e.displayTemp)},A=function(t,e){var o,n,i;return(o=a.$new())[C]=e,n=R<t,o.$index=t,n&&o.$index--,i={scope:o},Q(o,function(e){return i.element=e,n?t===w?(I(e),f.append(e),v.push(i)):(v[t-R].element.after(e),v.splice(t-R+1,0,i)):(I(e),f.prepend(e),v.unshift(i))}),{appended:n,wrapper:i}},g=function(e,t){var o;return e?f.bottomPadding(Math.max(0,f.bottomPadding()-t.element.outerHeight(!0))):0<=(o=f.topPadding()-t.element.outerHeight(!0))?f.topPadding(o):W.scrollTop(W.scrollTop()+t.element.outerHeight(!0))},D=function(e,t,o){var n,i,a,r,s,l,c,u,d;if(N("top {actual="+f.topDataPos()+" visible from="+G()+" bottom {visible through="+h()+" actual="+f.bottomDataPos()+"}"),H()?S(e,!0,t):z()&&S(e,!1,t),o&&o(e),0===T.length){for(d=[],c=l=0,u=v.length;c<u;c++){if(r=s!==(a=(n=v[c]).element.offset().top),s=a,r&&(i=n.element.outerHeight(!0)),!(r&&f.topDataPos()+l+i<G())){r&&j(n);break}d.push(l+=i)}return d}},m=function(l,c,u,d){return u&&u.length?oe(function(){var e,t,o,n,i,a,r,s;for(n=[],i=0,r=u.length;i<r;i++)t=u[i],p=t.wrapper.element,q(p),o!==(e=p.offset().top)&&(n.push(t),o=e);for(a=0,s=n.length;a<s;a++)t=n[a],g(t.appended,t.wrapper);return D(l,c,d)}):D(l,c,d)},O=function(e,t,o){return m(e,t,o,function(){return T.shift(),0===T.length?_(b=!1):i(e,t)})},i=function(a,r){return T[0]?v.length&&!H()?O(a,r):o.get(w,l,function(e){var t,o,n,i;if(!a||a===J){if(o=[],e.length<l&&(x=!0,f.bottomPadding(0)),0<e.length)for(E(),n=0,i=e.length;n<i;n++)t=e[n],o.push(A(++w,t));return O(a,r,o)}}):v.length&&!z()?O(a,r):o.get(R-l,l,function(e){var t,o,n,i;if(!a||a===J){if(o=[],e.length<l&&(c=!0,f.topPadding(0)),0<e.length)for(v.length&&d(),t=n=i=e.length-1;i<=0?n<=0:0<=n;t=i<=0?++n:--n)o.unshift(A(--R,e[t]));return O(a,r,o)}})},M=function(){if(!te.$$phase&&!b)return m(null,!1),a.$apply()},W.bind("resize",M),k=function(){if(!te.$$phase&&!b)return m(null,!0),a.$apply()},W.bind("scroll",k),Z=function(e){var t,o;if(t=W[0].scrollTop,o=W[0].scrollHeight-W[0].clientHeight,0===t&&!c||t===o&&!x)return e.preventDefault()},W.bind("mousewheel",Z),a.$watch(o.revision,function(){return P()}),n=o.scope?o.scope.$new():a.$new(),a.$on("$destroy",function(){return n.$destroy(),W.unbind("resize",M),W.unbind("scroll",k),W.unbind("mousewheel",Z)}),n.$on("update.items",function(e,t,o){var n,i,a,r;if(angular.isFunction(t))for(n=function(e){return t(e.scope)},i=0,a=v.length;i<a;i++)n(v[i]);else 0<=(r=t-R-1)&&r<v.length&&(v[t-R-1].scope[C]=o);return null}),n.$on("delete.items",function(e,t){var o,n,i,a,r,s,l,c,u,d,p;if(angular.isFunction(t)){for(i=[],r=0,c=v.length;r<c;r++)n=v[r],i.unshift(n);for(a=function(e){if(t(e.scope))return $(i.length-1-o,i.length-o),w--},o=s=0,u=i.length;s<u;o=++s)a(i[o])}else 0<=(p=t-R-1)&&p<v.length&&($(t-R-1,t-R),w--);for(o=l=0,d=v.length;l<d;o=++l)(n=v[o]).scope.$index=R+o;return m(null,!1)}),n.$on("insert.item",function(e,t,o){var n,i,a,r,s;if(i=[],angular.isFunction(t))throw new Error("not implemented - Insert with locator function");for(0<=(s=t-R-1)&&s<v.length&&(i.push(A(t,o)),w++),n=a=0,r=v.length;a<r;n=++a)(o=v[n]).scope.$index=R+n;return m(null,!1,i)})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(s){"use strict";return{require:"^?uiScrollfixTarget",link:function(e,t,o,n){var i=t[0].offsetTop,a=n&&n.$element||angular.element(s);function r(){var e=n?a[0].scrollTop:angular.isDefined(s.pageYOffset)?s.pageYOffset:(document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body).scrollTop;!t.hasClass("ui-scrollfix")&&e>o.uiScrollfix?t.addClass("ui-scrollfix"):t.hasClass("ui-scrollfix")&&e<o.uiScrollfix&&t.removeClass("ui-scrollfix")}o.uiScrollfix?"string"==typeof o.uiScrollfix&&("-"===o.uiScrollfix.charAt(0)?o.uiScrollfix=i-parseFloat(o.uiScrollfix.substr(1)):"+"===o.uiScrollfix.charAt(0)&&(o.uiScrollfix=i+parseFloat(o.uiScrollfix.substr(1)))):o.uiScrollfix=i,a.on("scroll",r),e.$on("$destroy",function(){a.off("scroll",r)})}}}]).directive("uiScrollfixTarget",[function(){"use strict";return{controller:["$element",function(e){this.$element=e}]}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){"use strict";return function(e,t,o){e.$watch(o.uiShow,function(e){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){"use strict";return function(e,t,o){e.$watch(o.uiHide,function(e){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){"use strict";return function(e,t,o){e.$watch(o.uiToggle,function(e){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function(a){"use strict";return function(e,t){if(!1===t)return e;if((t||angular.isUndefined(t))&&angular.isArray(e)){var n=[],o=angular.isString(t)?a(t):function(e){return e},i=function(e){return angular.isObject(e)?o(e):e};angular.forEach(e,function(e){for(var t=!1,o=0;o<n.length;o++)if(angular.equals(i(n[o]),i(e))){t=!0;break}t||n.push(e)}),e=n}return e}}]),angular.module("ui.uploader",[]).service("uiUploader",uiUploader),uiUploader.$inject=["$log"],angular.module("ui.validate",[]).directive("uiValidate",function(){"use strict";return{restrict:"A",require:"ngModel",link:function(i,e,t,a){var r,o,s={},n=i.$eval(t.uiValidate);n&&(angular.isString(n)&&(n={validator:n}),angular.forEach(n,function(o,n){r=function(e){var t=i.$eval(o,{$value:e});return angular.isObject(t)&&angular.isFunction(t.then)?t.then(function(){a.$setValidity(n,!0)},function(){a.$setValidity(n,!1)}):t?a.$setValidity(n,!0):a.$setValidity(n,!1),e},s[n]=r,a.$formatters.push(r),a.$parsers.push(r)}),t.uiValidateWatch&&(o=i.$eval(t.uiValidateWatch),angular.isString(o)?i.$watch(o,function(){angular.forEach(s,function(e){e(a.$modelValue)})}):angular.isArray(o)?angular.forEach(o,function(e){i.$watch(e,function(){angular.forEach(s,function(e){e(a.$modelValue)})})}):angular.isObject(o)&&angular.forEach(o,function(e,t){angular.isString(e)&&i.$watch(e,function(){s[t](a.$modelValue)}),angular.isArray(e)&&angular.forEach(e,function(e){i.$watch(e,function(){s[t](a.$modelValue)})})})))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"]),angular.module("authFactory",[]).factory("authService",["$http","$q","$window","$interval","$timeout",function(n,i,e,a,r){var s;function l(){return s}return $.jrzStorage.local.exists("appUser")&&(s=$.jrzStorage.local.getItem("appUser")),{login:function(e,t){var o=i.defer();return n.post("/eRegistroAPI/Auth/Login",{userName:e,password:t}).then(function(e){e.data.Succeeded?(s={accessToken:e.data.Result.token,userName:e.data.Result.Nombre,email:e.data.Result.Email},$.jrzStorage.local.setItem("appUser",s),o.resolve(s)):o.reject("-Cuenta no existe en el sistema-")},function(e){o.reject(e)}),o.promise},logout:function(){var t=i.defer();return n({method:"POST",url:"/eRegistroAPI/Auth/logout",headers:{access_token:s.accessToken}}).then(function(e){s=null,$.jrzStorage.local.removeItem("appUser"),t.resolve(e)},function(e){t.reject(e)}),t.promise},getUserInfo:l,getToken:function(){return s||console.log("no-token"),s?s.accessToken:"no-token"},api:function(){return"/eRegistroAPI"},custodian:function(e){var t,o=void 0;e&&(t=a(function(){null===l()||o?o&&angular.isDefined(t)&&(a.cancel(t),t=void 0):(console.log("custodian enabled"),r(e,1e3,!1),o=!0)},1e3))}}}]).factory("listService",["$http","$q","authService",function(o,e,n){var i,t;function a(){var t=e.defer();return o.get("/eRegistroAPI/Admin/Entities/Get?entity=all",{headers:{access_token:n.getToken()}}).then(function(e){i=e.data.Result,$.jrzStorage.local.setItem("lists",i),t.resolve(i)},function(e){t.reject(e)}),t.promise}function r(){var e="/eRegistroAPI/Admin/Entities/";return $.jrzStorage.local.exists("classPat")?t=$.jrzStorage.local.getItem("classPat"):(console.log(e+"GetClassificacionPat"),o.get(e+"GetClassificacionPat").then(function(e){return t=e.data.Result,$.jrzStorage.local.setItem("classPat",t),t},function(e){return[]}),t)}return r(),$.jrzStorage.local.exists("lists")?i=$.jrzStorage.local.getItem("lists"):a(),{getLists:function(){return i},reFetchLists:function(){return a(),i},getMes:function(e){var t=new Array;return t[0]="ENERO",t[1]="FEBRERO",t[2]="MARZO",t[3]="ABRIL",t[4]="MAYO",t[5]="JUNIO",t[6]="JULIO",t[7]="AGOSTO",t[8]="SEPTIEMBRE",t[9]="OCTUBRE",t[10]="NOVIEMBRE",t[11]="DICIEMBRE",t[e]},getEnLetras:function(e){var t=new Array,o=new Array;t[0]="",t[1]="CERO",t[2]="UNO",t[3]="DOS",t[4]="TRES",t[5]="CUATRO",t[6]="CINCO",t[7]="SEIS",t[8]="SIETE",t[9]="OCHO",t[10]="NUEVE",t[11]="DIEZ",t[12]="ONCE",t[13]="DOCE",t[14]="TRECE",t[15]="CATORCE",t[16]="QUINCE",o[0]="",o[1]="DIEZ",o[2]="VEINTE",o[3]="TREINTA",o[4]="CUARENTA",o[5]="CINCUENTA",o[6]="SESENTA",o[7]="SETENTA",o[8]="OCHENTA",o[9]="NOVENTA";var n=0;return e<16?t[e+1]:0==(n=e%10)?o[(e-n)/10]:o[(e-n)/10]+" Y "+t[n+1]},getDAmnu:function(){return[{_id:"DA001",opcion:"Se declara con lugar",view:"130conlugar.html",_estatus:[],migra:[],stl:"tile-blue"},{_id:"DA002",opcion:"Rechazo",view:"130DARechazo.html",_estatus:[130],migra:[],stl:"tile-red"},{_id:"DA003",opcion:"Suspenso",view:"130DAsuspenso.html",_estatus:[130],migra:[],stl:"tile-yellow"},{_id:"DA004",opcion:"Operar Memorial",view:"131OperarMemorial.html",_estatus:[131,133],migra:[],stl:"tile-green"},{_id:"DA005",opcion:"Levantar Suspenso",view:"133LevantarSuspenso.html",_estatus:[133],migra:[],stl:"tile-greenDark"},{_id:"DA006",opcion:"Recurso de Revocatoria",view:"135RecursoRevocatoria.html",_estatus:[135],migra:[],stl:"tile-green"},{_id:"DA007",opcion:"Elevando Recurso Revocatoria",view:"136ElevandoRecurso.html",_estatus:[136],migra:[],stl:"tile-yellow"},{_id:"DA008R",opcion:"Por Recibido MINECO-Registro",view:"137PorRecibidoMINECOR.html",_estatus:[137],migra:[],stl:"tile-greenDark"},{_id:"DA008A",opcion:"Por Recibido MINECO-Archivo",view:"137PorRecibidoMINECOA.html",_estatus:[137],migra:[],stl:"tile-greenDark"},{_id:"DA009",opcion:"Notificar",view:"140Notificar.html",_estatus:[140],migra:[],stl:"tile-green"},{_id:"DA010",opcion:"Emitir Titulo (Registro)",view:"140EmitirTitulo.html",_estatus:[140,141],migra:[],stl:"tile-blue"},{_id:"DA011",opcion:"Cambiar Estatus",view:"00CambiarEstatus.html",_estatus:[],migra:[],stl:"tile-red"},{_id:"DA012",opcion:"Reposicion de Titulo",view:"135ReposiciondeTitulo.html",_estatus:[135],migra:[],stl:"tile-orange"}]},getPatentesmnu:function(){return[{_id:"PAT001",opcion:"Requerimiento de examen de forma",view:"Requerimiento_De_Examen_De_Forma.html",_estatus:[59],migra:[],stl:"tile-yellow"},{_id:"PAT002",opcion:"Gestor Oficioso",view:"Gestor_Oficioso.html",_estatus:[],migra:[],stl:"tile-blue"},{_id:"PAT003",opcion:"Admision Trámite",view:"Admision_Tramite.html",_estatus:[59,60,63],migra:[],stl:"tile-blue"},{_id:"PAT004",opcion:"Edicto",view:"Edicto.html",_estatus:[64,116],migra:[],stl:"tile-blue"},{_id:"PAT005",opcion:"Publicaciones",view:"Publicaciones.html",_estatus:[66],migra:[],stl:"tile-green"},{_id:"PAT006",opcion:"Admite observaciones",view:"Admite_Observaciones.html",_estatus:[67],migra:[],stl:"tile-yellow"},{_id:"PAT007",opcion:"Orden de Pago",view:"Orden_De_Pago.html",_estatus:[67,106,125,126],migra:[],stl:"tile-greenDark"},{_id:"PAT008",opcion:"Pago Examen",view:"Pago_Examen.html",_estatus:[68],migra:[],stl:"tile-greenDark"},{_id:"PAT009",opcion:"Requerimiento examen de fondo A",view:"Requerimiento_Examen_De_Fondo_A.html",_estatus:[97,101],migra:[],stl:"tile-orange"},{_id:"PAT010",opcion:"Requerimiento examen de fondo B",view:"Requerimiento_Examen_de_Fondo_B.html",_estatus:[97,101],migra:[],stl:"tile-orange"},{_id:"PAT011",opcion:"Reporte de exámen de fondo",view:"Reporte_De_Examen_De_Fondo.html",_estatus:[],migra:[],stl:"tile-greenDark"},{_id:"PAT012",opcion:"Informe de Busqueda",view:"Informe_de_Busqueda.html",_estatus:[],migra:[],stl:"tile-yellow"},{_id:"PAT013",opcion:"Razón de Abandono",view:"Razon_De_Abandono.html",_estatus:[],migra:[],stl:"tile-orange"},{_id:"PAT014",opcion:"Desistimiento Solicitud ",view:"Desistimiento_Solicitud.html",_estatus:[],migra:[],stl:"tile-red"},{_id:"PAT015",opcion:"Titulo",view:"Titulo.html",_estatus:[70,75,81,104],migra:[],stl:"tile-blue"},{_id:"PAT016",opcion:"Notificacion",view:"Notificacion.html",_estatus:[61,62,64,71,72,76,77,78,82,95,98,99,106,116],migra:[],stl:"tile-green"},{_id:"PAT017",opcion:"Traspaso",view:"Traspaso.html",_estatus:[],migra:[],stl:"tile-blue"},{_id:"PAT018",opcion:"Cambio de Nombre",view:"Cambio_De_Nombre.html",_estatus:[],migra:[],stl:"tile-yellow"},{_id:"PAT019",opcion:"Titulo Renovación ",view:"Titulo_Renovacion.html",_estatus:[88],migra:[],stl:"tile-greenDark"},{_id:"PAT020",opcion:"Reposición Titulo Patente ",view:"Reposicion_Titulo_Patente.html",_estatus:[88],migra:[],stl:"tile-blue"},{_id:"PAT021",opcion:"Certificaciones",view:"Certificaciones.html",_estatus:[88],migra:[],stl:"tile-greenDark"},{_id:"PAT022",opcion:"Cambiar Estatus",view:"PAT022.html",_estatus:[],migra:[],stl:"tile-red"},{_id:"PAT023",opcion:"Resolución Customizada",view:"PAT023.html",_estatus:[],migra:[],stl:"tile-blue"}]},getGrlPerms:function(){return[{_id:"MAR999",opcion:"Ingresar Expediente Marcas"},{_id:"MAR998",opcion:"Actualizar Expediente Marcas"},{_id:"PAT997",opcion:"Ingresar Expediente Patentes"},{_id:"PAT996",opcion:"Actualizar Expediente Patentes"},{_id:"DA995",opcion:"Ingresar Expediente Derecho de Autor"},{_id:"DA994",opcion:"Actualizar Expediente Derecho de Autor"}]},getMarcasmnu:function(){return[{_id:"MAR100",opcion:"Examen de Forma",_estatus:[],menu:[{_id:"MAR101",opcion:"Gestor Oficioso",view:"Gestor_Oficioso.html",_estatus:[7],migra:[],stl:"tile-yellow"},{_id:"MAR102",opcion:"Requerimientos",view:"Requerimientos.html",_estatus:[7],migra:[],stl:"tile-blue"},{_id:"MAR103",opcion:"Objeciones Forma",view:"Objeciones_Forma.html",_estatus:[7],migra:[],stl:"tile-blue"}]},{_id:"MAR200",opcion:"Examen Novedad",_estatus:[],menu:[{_id:"MAR201",opcion:"Objeciones Fondo",view:"Objeciones_Fondo.html",_estatus:[7],migra:[],stl:"tile-yellow"}]},{_id:"MAR400",opcion:"Edictos",view:"Edictos.html",_estatus:[28],migra:[],stl:"tile-blue"},{_id:"MAR600",opcion:"Orden de Pago",view:"Orden_de_Pago.html",_estatus:[31],migra:[],stl:"tile-blue"},{_id:"MAR700",opcion:"Titulo",view:"Titulo.html",_estatus:[33],migra:[],stl:"tile-blue"},{_id:"MAR800",opcion:"Resoluciones",_estatus:[],menu:[{_id:"MAR801",opcion:"Reposición de edicto",view:"Reposicion_de_edicto.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR802",opcion:"Enmienda",view:"Enmienda.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR803",opcion:"Cancelación",view:"Cancelacion.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR804",opcion:"Traspaso",view:"Traspaso.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR805",opcion:"División Registro",view:"Division_Registro.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR806",opcion:"Abandono",view:"Abandono.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR807",opcion:"Desistimiento",view:"Desistimiento.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR808",opcion:"Rechazo por objecion",view:"Rechazo_por_objecion.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR809",opcion:"Revocatoria de Oficio",view:"Revocatoria_de_Oficio.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR810",opcion:"Resolución Customizada",view:"Resolucion_Customizada.html",_estatus:[],migra:[],stl:"tile-green"},{_id:"MAR811",opcion:"Errores Materiales",view:"Errores_Materiales.html",_estatus:[],migra:[],stl:"tile-blue"}]},{_id:"MAR900",opcion:"Cambiar Estatus",view:"Cambiar_Estatus.html",_estatus:[],migra:[],stl:"tile-red"},{_id:"MAR901",opcion:"Notificaciones",view:"Notificaciones.html",_estatus:[],migra:[],stl:"tile-red"}]},getAnotacionesmnu:function(){return[{_id:"ANOTA100",opcion:"Resolución Customizada",view:"Resolucion_Customizada.html",_estatus:[],migra:[],stl:"tile-red"},{_id:"ANOTA200",opcion:"Notificaciones",view:"Notificaciones.html",_estatus:[],migra:[],stl:"tile-red"}]},printDoc:function(e){var t=window.open("","_blank");t.window.focus(),t.document.write(e.data),t.focus(),window.setTimeout(function(){t.print()},500)},getClassificacionPat:r}}]).factory("sessionInjector",["$q",function(t){var o={_id:0xe04998456557e80};return{request:function(e){return $.jrzStorage.local.exists("appUser")&&(o=$.jrzStorage.local.getItem("appUser")),$("#appSpinner").show(),e.headers.access_token="",o.accessToken&&(e.headers.access_token=o.accessToken),e},requestError:function(e){return console.log("REJECTION:"),console.log(e),$("#appSpinner").hide(),t.reject(e)},response:function(e){return $("#appSpinner").hide(),e},responseError:function(e){return $("#appSpinner").hide(),t.reject(e)}}}]).factory("classSrvc",["$http","$q","authService",function(e,o,t){var n;function a(){var t=o.defer();return e.get("/publico/content/json/viena.json").then(function(e){n=e.data,$.jrzStorage.local.setItem("vienaClass",n),t.resolve(n)},function(e){t.reject(e)}),t.promise}return console.log("classSrvc init..."),a(),{getNizaClass:function(){var e=[];for(i=0;i<46;i++)e.push({code:i,selected:!1});return e.push({code:99,selected:!1}),e.push({code:"All",selected:!1}),e},getVienaClass:function(){return $.jrzStorage.local.exists("vienaClass")?n=$.jrzStorage.local.getItem("vienaClass"):a(),n},getGrupos:function(){return e.get("/eRegistroAPI/Favoritos/GetGrupos",{headers:{access_token:t.getToken()}})}}}]).factory("bouncer",[function(){var e={isUnauthorizedActionForDA:function(e,t,o){return!1},isMenuDisabledForDA:function(e,t){return""},isUnauthorizedActionForMarcas:function(e,t,o){return 0!=e._estatus.length&&(""==t||-1==e._estatus.indexOf(o.Expediente.EstatusId))},isMenuDisabledForMarcas:function(e,t){return-1===e._estatus.indexOf(t.Expediente.EstatusId)?"disabled":""},isUnauthorizedActionForPatentes:function(e,t,o){return 0!=e._estatus.length&&(""==t||-1==e._estatus.indexOf(o.Expediente.EstatusId))},isMenuDisabledForPatentes:function(e,t){return""},isUnauthorizedActionForReno:function(e,t,o){return!1},isMenuDisabledForReno:function(e,t){return""},isUnauthorizedActionForAnota:function(e,t,o){return!1},isMenuDisabledForAnota:function(e,t){return""}};return e}]).factory("dateHelper",["uibDateParser",function(t){var e={disabled:function(e,t){return"day"===t&&(10===e.getDay()||6===e.getDay())},dateOptions:{formatYear:"yy",startingDay:1,timezone:"CST"},YearOptions:{formatYear:"yyyy",startingDay:1,minMode:"year"},fixDate:function(e){var t=new Date;return e&&(t=new Date(parseInt(e.substr(6)))),t},formats:["MM/dd/yyyy hh:mm:ss","dd/MM/yyyy","dd.MM.yyyy","shortDate"]};return e.format=e.formats[1],e.minDate=function(){return new Date(1899,1,1)},e.maxDate=function(){return new Date((new Date).setDate((new Date).getDate()+365))},e.parseStrDate=function(e){return 0<e.length?t.parse(e,"yyyy-MM-ddThh:mm:ss"):null},e.WeekendDisabled=function(e,t){return"day"===t&&(10===e.getDay()||6===e.getDay())},e}]).factory("feedbackSrvc",["$q","$timeout","$rootScope","$location",function(e,o,t,n){var i={},a=[],r=function(e){var t=new Date;a.unshift(t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+" "+e)};return i.flush=function(){a=[],t.$broadcast("feedbackOn","feedbackOn")},i.handleError=function(e,t){e&&401===e.status?t="El usuario no tiene permisos para realizar la operacion!":e&&!1===e.Succeeded?t=e.Errors?e.Errors:"El usuario no tiene permisos para realizar la operacion!":t||(t="El sistema ha encontrado un error inesperado, porfavor contacte al administrador del sistema!"),r(t),o(i.flush,1e4,!0)},i.showAlertInfo=function(e,t){r(e),o(i.flush,1e4,!0),t&&o(function(){n.path(t)},1400)},i.isTriggered=function(){return 0<a.length},i.getFeedback=function(){return a},i}]),Array.prototype.firstOrDefault=function(e){for(var t=0;t<this.length;t++)if(e(this,t))return this[t];return null},angular.module("utilsFactory",[]).factory("formUtils",["$http",function(e){return{getFormChanges:function(e,u,d){var p=[];return angular.forEach(e,function(e,t){var o,n="",i="",a="",r="",s="",l="",c=0;"$"!=t[0]&&(e.$pristine||(a=-1===t.indexOf("__")?(n=d[t],i=u?u[t]:"",t):(4==(o=t.split("__")).length?(r=o[0],s=o[1],c=o[2],l=o[3],u&&(i=jsUtils.isArray(u[s])&&u[s].length?u[s][c][l]:void 0)):(r=o[0],s=o[1],l=o[2],i=u?u[s][l]:""),s+"."+r+"."+l),(n=e.$modelValue)!=(i=i||"")&&p.push({field:a.toString(),cambioA:n.toString(),cambioDe:i.toString()})))}),p}}}]);var yumKaaxControllers=angular.module("gespiControllers",[]);function showDAEstadisticas(e){var t={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'},o=[{value:e.DAIngreso,color:"#9400D3",highlight:"#9932CC",label:"Derecho de Autor"},{value:e.SignosIngreso,color:"#20B2AA",highlight:"#66CDAA",label:"Marcas"},{value:e.PatentesIngreso,color:"#C71585",highlight:"#FF69B4",label:"Patentes"}],n=[{value:e.DAPublicacion,color:"#228B22",highlight:"#3CB371",label:"Derecho de Autor"},{value:e.SignosPublicacion,color:"#B8860B",highlight:"#DAA520",label:"Marcas"},{value:e.PatentesPublicacion,color:"#8B0000",highlight:"#B22222",label:"Patentes"}],i=[{value:e.DAConTitulo,color:"#00008B",highlight:"#0000FF",label:"Derecho de Autor"},{value:e.SignosConTitulo,color:"#FF0000",highlight:"#FF7F50",label:"Marcas"},{value:e.PatentesConTitulo,color:"#006400",highlight:"#008000",label:"Patentes"}],a=document.getElementById("stdIngreso").getContext("2d"),r=document.getElementById("stdPublicacion").getContext("2d"),s=document.getElementById("stdTitulo").getContext("2d");window.myChart1&&(window.myChart1.destroy(),window.myChart2.destroy(),window.myChart3.destroy()),window.myChart1=new Chart(a).Pie(o,t),window.myChart2=new Chart(r).Pie(n,t),window.myChart3=new Chart(s).Pie(i,t),window.myChart1.update(),window.myChart2.update(),window.myChart3.update()}function showExpIngresoPorMes(e){for(var t={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:2,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:1,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},o=[],n=[],i=[],a=0;a<12;a++)i[a]=n[a]=o[a]=0;for(a=0;a<e.length;a++){var r=e[a];1==r.ModuloId?i[r.MES-1]=r.Conteo:2==r.ModuloId?n[r.MES-1]=r.Conteo:3==r.ModuloId&&(o[r.MES-1]=r.Conteo)}var s={labels:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],datasets:[{label:"Derecho de Autor",fillColor:"rgba(1, 163, 28, 1)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:o}]},l={labels:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],datasets:[{label:"Derecho de Autor",fillColor:"rgba(0, 114, 188, 1)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:n}]},c={labels:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],datasets:[{label:"Derecho de Autor",fillColor:"rgba(102, 45, 145, 1)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:i}]},u=document.getElementById("DAExpMensual").getContext("2d"),d=document.getElementById("PATExpMensual").getContext("2d"),p=document.getElementById("SIGExpMensual").getContext("2d"),f=new Chart(u).Bar(s,t),m=new Chart(d).Bar(l,t),g=new Chart(p).Bar(c,t);f.update(),m.update(),g.update()}yumKaaxControllers.controller("appCtrlr",["$scope",function(e){}]),yumKaaxControllers.controller("MenueRPICtrl",["$scope","authService",function(t,e){t.isAdmin=!1,t.isLoggedIn=!1,t.$watch(e.getUserInfo,function(){t.userIdentity=e.getUserInfo(),t.isAdmin="SuperAdmin"==t.userIdentity.Role||"Admin"==t.userIdentity.Role,t.isLoggedIn=null!=t.userIdentity}),t.logout=function(){e.logout().then(function(e){t.userIdentity=null,$location.path("/login")},function(e){console.log(e)})}}]),yumKaaxControllers.controller("eRPICtrl",["$scope","authService","$http","$location",function(o,t,n,i){function a(){var e=o.yearSelected.getFullYear();console.log("fullYear:"+e),n.get(t.api()+"/Admin/Entities/GetEstadisticasByArea?year="+e).then(function(e){showDAEstadisticas(e.data.DataSet[0])}),n.get(t.api()+"/Admin/Entities/GetIngresoExpedientesPorMes?year="+e).then(function(e){showExpIngresoPorMes(e.data.DataSet)})}o.isAdmin=!1,o.isLoggedIn=!1,o.estadisticasByArea=null,o.yearSelected=new Date,o.open=function(e){o.status.opened=!0},o.disabled=function(e,t){return!1},o.status={opened:!1},o.dateOptions={formatYear:"yyyy",startingDay:1,minMode:"year"},o.formats=["yyyy"],o.format=o.formats[0],o.$watch("yearSelected",function(e,t){e!==t&&(""===e&&(o.yearSelected=new Date),a())},!0),t.custodian(function(){a()}),o.logout=function(){t.logout().then(function(e){o.userIdentity=null,i.path("/login")},function(e){console.log(e)})}}]),yumKaaxControllers.controller("CronCtrlr",["$scope","$http","$q","$routeParams","$timeout","$route","$location","authService","listService","bouncer","feedbackSrvc",function(e,t,o,n,i,a,r,s,l,c,u){e.GetDOCResol=function(e){t.get(s.api()+"/Expediente/GetDOCResol?cronologiaId="+e).then(function(e){e.data&&l.printDoc(e),u.showAlertInfo("Evento no contiene documento imprimible..."),console.log(e)})}}]),yumKaaxControllers.controller("MarcasCtrl",["$scope","$http","$q","$routeParams","$timeout","$route","$location","authService","listService","dateHelper","bouncer","feedbackSrvc",function(n,i,e,t,o,a,r,s,l,c,u,d){function p(e,t){i.get(s.api()+"/Marca/"+e+t).then(function(e){n.model=e.data.Result.documento,console.log(e.data.Result.documento)})}function f(){n.getExpediente(t.numero),n._resolucion={FechaResolucion:new Date},n.res="./Spa/Views/empty.html"}function m(e,t){i.post(s.api()+e,{tramite:t}).then(function(e){l.printDoc(e),f()},function(e){d.handleError(e)})}function g(){n.paises=l.getLists().paises,console.log(n.paises),n.getNew(),i.get(s.api()+"/Admin/Estatus/GetPage?page=1&pageSize=200&moduloId=1").then(function(e){n.Estatuses=e.data.Result.DataSet}),t.Id?function(e){p("ExpedienteId","?id="+e)}(t.Id):t.numero&&n.getExpediente(t.numero)}n.config={_expediente:"./Spa/Views/eMarcas/MarcasExpediente.html",_modulo:"Marcas/Signos distintivos"},n.$route=a,n.model={},n.opciones=l.getMarcasmnu(),n.Estatuses=[],n.dateHelper=c,n.GetDOCResol=function(e){i.get(s.api()+"/Expediente/GetDOCResol?cronologiaId="+e).then(function(e){e.data&&l.printDoc(e),d.showAlertInfo("Evento no contiene documento imprimible..."),console.log(e)})},n.getExpediente=function(e){t.numero?(p("Expediente","?numero="+e),r.path("/Marcas/"+e,!1)):r.path("/Marcas/"+e)},n.getNew=function(){n.model={Expediente:{Id:-1,TipoDeRegistroId:0,Numero:"",FechaDeSolicitud:void 0,DoctosAdjuntos:"0,0,0,0,0,0,0,0"},Marca:{Denominacion:""},Prioridades:[]}},n.myfunction=function(e){var t=JSON.stringify(e);m("/Marca/Requerimiento_De_Examen_De_Forma",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n._MAR400SaveNPrint=function(e){var t=JSON.stringify(e);m("/Marca/Edicto",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,AmparaProductos:e.AmparaProductos,AmparaServicios:e.AmparaServicios,TipoDeMarca:e.TipoDeMarca,MarcaAColor:e.MarcaAColor,AdminUnico:e.AdminUnico,RepresentanteLegal:e.RepresentanteLegal,MandatarioEspecial:e.MandatarioEspecial,Apoderado:e.Apoderado,Gerente:e.Gerente,Otro:e.Otro,EnCalidadDe:e.EnCalidadDe,Mandatario:e.Mandatario,Lugar:e.Lugar,DireccionEntidad:e.DireccionEntidad,Observaciones:e.Observaciones,JSONDOC:t})},n._mar810SaveNPrint=function(e){var t=JSON.stringify(e),o={ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,EstatusId:e.EstatusId.Id,UpdatesEstatus:e.UpdatesEstatus,Titulo:e.Titulo,JSONDOC:t,HTMLDOC:e.htmlResol};i.post(s.api()+"/Marca/ResolucionCustomizada",{tramite:o}).then(function(e){l.printDoc(e),f()},function(e){d.handleError(e)})},n._MAR900SaveNPrint=function(e){var t=JSON.stringify(e),o={ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,EstatusId:e.EstatusId.Id,JSONDOC:t};i.post(s.api()+"/Marca/CambiarEstatus",{tramite:o}).then(function(e){l.printDoc(e),f()},function(e){d.handleError(e)})},n.fds={},n.ppf={},n.saf={},n.fresolucion={},n.fv={},n.open=function(e,t){e.preventDefault(),e.stopPropagation(),"fds"==t?n.fds.open=!0:"ppf"==t?n.ppf.open=!0:"saf"==t?n.saf.open=!0:"fresolucion"==t?n.fresolucion.open=!0:"fv"==t&&(n.fv.open=!0)},n.getPaisCode=function(o){return n.paises.firstOrDefault(function(e,t){return e[t].Id==o}).Codigo},n.titular={},n.selectTitular=function(e){n.titular=e},n.titular={id:0,DireccionParaNotificacion:"",PaisId:0,Nombre:""},n.onSelectTitular=function(e,t,o){n.titular.Id=e.Id,n.titular.PaisId=e.PaisId,n.titular.DireccionParaNotificacion=e.Direccion,n.titular.DireccionParaUbicacion=e.Direccion},n.searchTitulares=function(e){return i.get(s.api()+"/Marca/SearchTitular?textToSearch="+e).then(function(e){return e.data.Result.DataSet},function(e){return[]})},n.isMnuEnabled=function(e){var t="";try{t=0==e._estatus.length?"":u.isMenuDisabledForMarcas(e,n.model)}catch(e){t="disabled"}return t},n.Resolucion=function(e){var t=e.view;u.isUnauthorizedActionForMarcas(e,t,n.model)?(n.res="./Spa/Views/empty.html",n.$apply()):(n.res="./Spa/Views/eMarcas/"+t,n.evento=e.opcion),n._resolucion={resId:""}},s.custodian(function(){g()}),n.rollbackResolution=function(){r.path("/Marcas/"+t.numero),n.Resolucion({_estatus:[0]}),showLeftBox()},n.Gestor_Oficioso=function(e){var t=JSON.stringify(e);m("/Marca/Gestor_Oficioso",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Requerimientos=function(e){var t=JSON.stringify(e);m("/Marca/Requerimientos",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Objeciones_Forma=function(e){var t=JSON.stringify(e);m("/Marca/Objeciones_Forma",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Objeciones_Fondo=function(e){var t=JSON.stringify(e);m("/Marca/Objeciones_Fondo",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Edictos=function(e){var t=JSON.stringify(e);m("/Marca/Edictos",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Orden_de_Pago=function(e){var t=JSON.stringify(e);m("/Marca/Orden_de_Pago",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Titulo=function(e){var t=JSON.stringify(e);m("/Marca/Titulo",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Reposicion_de_edicto=function(e){var t=JSON.stringify(e);m("/Marca/Reposicion_de_edicto",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Enmienda=function(e){var t=JSON.stringify(e);m("/Marca/Enmienda",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Cancelacion=function(e){var t=JSON.stringify(e);m("/Marca/Cancelacion",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Traspaso=function(e){var t=JSON.stringify(e);m("/Marca/Traspaso",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Division_Registro=function(e){var t=JSON.stringify(e);m("/Marca/Division_Registro",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Abandono=function(e){var t=JSON.stringify(e);m("/Marca/Abandono",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Desistimiento=function(e){var t=JSON.stringify(e);m("/Marca/Desistimiento",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Rechazo_por_objecion=function(e){var t=JSON.stringify(e);m("/Marca/Rechazo_por_objecion",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Revocatoria_de_Oficio=function(e){var t=JSON.stringify(e);m("/Marca/Revocatoria_de_Oficio",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Resolucion_Customizada=function(e){var t=JSON.stringify(e);m("/Marca/Resolucion_Customizada",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Errores_Materiales=function(e){var t=JSON.stringify(e);m("/Marca/Errores_Materiales",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Cambiar_Estatus=function(e){var t=JSON.stringify(e);m("/Marca/Cambiar_Estatus",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Notificaciones=function(e){var t=JSON.stringify(e);m("/Marca/Notificaciones",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})}}]),yumKaaxControllers.controller("AnotacionesCtrl",["$scope","$http","$q","$routeParams","$timeout","$route","listService","authService","$location","dateHelper","$uibModal","rpiServices","bouncer","feedbackSrvc",function(n,o,e,t,i,a,r,s,l,c,u,d,p,f){function m(){!function(){var e=r.getLists();n.tipoDeRegistroDeMarcas=e.tipoDeRegistroDeMarcas,n.tipoDeAnotaciones=e.tipoDeAnotaciones,n.paises=e.paises}(),o.get(s.api()+"/Admin/Estatus/GetPage?page=1&pageSize=200&moduloId=4").then(function(e){n.Estatuses=e.data.Result.DataSet})}function g(){n.model.Expediente.FechaDeSolicitud=c.parseStrDate(n.model.Expediente.FechaDeSolicitud),n.model.Expediente.FechaDeEstatus=c.parseStrDate(n.model.Expediente.FechaDeEstatus);for(var e=0;e<n.model.Cronologia.length;e++)n.model.Cronologia[e].Fecha=c.parseStrDate(n.model.Cronologia[e].Fecha);for(e=0;e<n.model.ExpedientesConAnotacion.length;e++)n.model.ExpedientesConAnotacion[e].FechaActualizacion=c.parseStrDate(n.model.ExpedientesConAnotacion[e].FechaActualizacion),n.model.ExpedientesConAnotacion[e].FechaDeRegistro=c.parseStrDate(n.model.ExpedientesConAnotacion[e].FechaDeRegistro),n.model.ExpedientesConAnotacion[e].FechaDeRegistroEnMarcas=c.parseStrDate(n.model.ExpedientesConAnotacion[e].FechaDeRegistroEnMarcas)}function h(e,t){o.post(s.api()+e,{tramite:t}).then(function(e){r.printDoc(e),n.getExpediente(n.model.Expediente.TipoDeRegistroId,n.model.Expediente.Numero),n._resolucion={FechaResolucion:new Date},n.res="./Spa/Views/empty.html"},function(e){f.handleError(e)})}n.config={_expediente:"./Spa/Views/eAnota/AnotaExpediente.html",_modulo:"Anotaciones"},n.$route=a,n.opciones=r.getAnotacionesmnu(),n.paises=[],n.model={Expediente:{Id:-1,TipoDeRegistroId:0,Numero:"",FechaDeSolicitud:void 0},Anotacion:{},ExpedientesConAnotacion:[]},n.titular={Id:-1,Direccion:"",PaisId:-1},n.Estatuses=[],n.dateHelper=c,n.res="",n.evento="",n._resolucion={FechaResolucion:new Date},n.Estatuses=[],n.user=s.getUserInfo(),n.enExpediente={},n.getExpedienteDeMarcas=function(){d.marcas.getExpedienteByRegistro(n.enExpediente.TipoDeRegistroId,n.enExpediente.Registro,n.enExpediente.Raya).then(function(e){console.log(e),n.enExpediente.AnotacionEnExpedienteId=e.data.Result.documento.Expediente.Id,n.enExpediente.Denominacion=e.data.Result.documento.Marca.Denominacion,0<e.data.Result.documento.Titulares.length&&(n.enExpediente.NombreTitular=e.data.Result.documento.Titulares[0].Nombre),n.enExpediente.FechaDeRegistro=c.fixDate(e.data.Result.documento.Expediente.FechaDeEstatus),n.enExpediente.ClassificacionDeNiza=e.data.Result.documento.Marca.ClassificacionDeNiza,console.log("expediente by registro")},function(e){f.handleError(e,"Expediente no encontrado - "+(t.numero?t.numero:""))})},n.getExpediente2=function(e){t.numero?(function(e){d.anota.getExpedienteDeAnotacionByNumero(e).then(function(e){console.log(e),n.model=e.data.Result.documento,g(),console.log(n.model),console.log(n.model.Expediente.FechaDeSolicitud),console.log("Expediente de anotaciones !!")},function(e){f.handleError(e,"Expediente no encontrado - "+(t.numero?t.numero:"")),n.model={Expediente:{Numero:""}}})}(n.model.Expediente.Numero=e),l.path("/Anotaciones/"+e,!1)):l.path("/Anotaciones/"+e)},n.closeModal=function(){$uibModalInstance.dismiss("cancel")},n.openTest=function(){u.open({size:"lg",templateUrl:"./Spa/Views/eAnota/ExpedienteConAnotacion.html",scope:n})},n.getNew=function(){n.model={Expediente:{Id:-1,TipoDeRegistroId:0,Numero:"",FechaDeSolicitud:void 0},Anotacion:{},ExpedientesConAnotacion:[]}},n.titular={id:0,Direccion:"",PaisId:0,Nombre:""},n.onSelectTitular=function(e,t,o){n.titular.Id=e.Id,n.titular.PaisId=e.PaisId},n.onSelectAgente=function(e,t,o){n.model.Patente.AgenteId=e.Id,n.model.Agente=e.Nombre},n.agregarAnotacionEnRegistro=function(e){o.post(s.api()+"/Anotacion/enExpediente",{model:n.model}).then(function(e){n.model=e.data.Result.documento,g(),f.showAlertInfo("Solicitud Actualizada...")},function(e){f.handleError(e)})},n.saveSolicitud=function(e){e.$valid&&o.post(s.api()+"/Patente/SaveSolicitud",{model:n.model}).then(function(e){n.model=e.data.Result.documento,g(),f.showAlertInfo("Solicitud Actualizada...")},function(e){f.handleError(e)})},n.ResolucionCustomizada=function(e){var t=JSON.stringify(e);h("/anotacion/ResolucionCustomizada",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,EstatusId:e.EstatusId.Id,Titulo:e.Titulo,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Notificacion=function(e){var t=JSON.stringify(e);h("/anotacion/Notificacion",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.fds={},n.ppf={},n.saf={},n.fresolucion={},n.fmem={},n.fnoti={},n.fecha2={},n.fecha3={},n.fref={},n.fa={},n.fv={},n.fr={},n.fpct={},n.orightml="<h2>Titulo del contenido de Resolución</h2><p>Este es un ejemplo de texto o guia para escribir una resolucion customizada</p>",n._resolucion.htmlResol=n.orightml,n.WeekendDisabled=c.WeekendDisabled,n.minDate=c.minDate(),n.maxDate=c.maxDate(),n.open=function(e,t){e.preventDefault(),e.stopPropagation(),"fds"==t?n.fds.open=!0:"ppf"==t?n.ppf.open=!0:"saf"==t?n.saf.open=!0:"fresolucion"==t?n.fresolucion.open=!0:"fmem"==t?n.fmem.open=!0:"fnoti"==t?n.fnoti.open=!0:"fecha2"==t?n.fecha2.open=!0:"fecha3"==t?n.fecha3.open=!0:"fref"==t?n.fref.open=!0:"fa"==t?n.fa.open=!0:"fv"==t?n.fv.open=!0:"fr"==t?n.fr.open=!0:"fpct"==t&&(n.fpct.open=!0)},n.dateOptions=c.dateOptions,n.formats=c.formats,n.format=n.formats[1],n.isMnuEnabled=function(e){var t="";try{t=0===e._estatus.length?"":p.isMenuDisabledForAnota(e,n.model)}catch(e){t="disabled"}return t},n.Resolucion=function(e){var t=e.view;console.log(t),p.isUnauthorizedActionForAnota(e,t,n.model)?(n.res="./Spa/Views/empty.html",n.$apply()):(n.res="./Spa/Views/eAnota/"+t,n.evento=e.opcion),n._resolucion={resId:"",FechaResolucion:new Date}},n.rollbackResolution=function(){t.numero?l.path("/Anotaciones/"+t.numero+"/"+t.tipo):l.path("/Anotaciones"),n.Resolucion({_estatus:[0]}),showLeftBox()},s.custodian(function(){m()}),t.numero&&n.getExpediente2(t.numero)}]),yumKaaxControllers.controller("RenovacionesCtrl",["$scope","$http","$q","$routeParams","$timeout","$route","listService","authService","$location","dateHelper","bouncer","feedbackSrvc",function(n,i,e,o,t,a,r,s,l,c,u,d){function p(){!function(){var e=r.getLists();console.log(e),n.tipoDePatentes=e.tipoDeAnotaciones,n.paises=e.paises,n.classPat=r.getClassificacionPat()}(),i.get(s.api()+"/Admin/Estatus/GetPage?page=1&pageSize=200&moduloId=2").then(function(e){n.Estatuses=e.data.Result.DataSet})}function f(){n.model.Expediente.FechaDeSolicitud=c.parseStrDate(n.model.Expediente.FechaDeSolicitud)}function m(e,t){i.get(s.api()+"/Patente/"+e+t).then(function(e){n.model=e.data.Result.documento,f(),console.log(JSON.stringify(n.model)),console.log("Fetched by expediente!!")},function(e){d.handleError(e,"Expediente no encontrado - "+(o.numero?o.numero:""));var t=n.model.Expediente.TipoDeRegistroId;n.model={Expediente:{TipoDeRegistroId:t}}})}function g(e,t){i.post(s.api()+e,{tramite:t}).then(function(e){r.printDoc(e),n.getExpediente(n.model.Expediente.TipoDeRegistroId,n.model.Expediente.Numero),n._resolucion={FechaResolucion:new Date},n.res="./Spa/Views/empty.html"},function(e){d.handleError(e)})}n.config={_expediente:"./Spa/Views/eRenovaciones/RenovacionExpediente.html",_modulo:"Renovaciones*"},n.$route=a,n.opciones=r.getPatentesmnu(),n.tipoDePatentes=[],n.paises=[],n.model={Expediente:{Id:-1,TipoDeRegistroId:0,Numero:"",FechaDeSolicitud:void 0},Patente:{Descripcion:""},Titulares:[]},n.titular={Id:-1,Direccion:"",PaisId:-1},n.Estatuses=[],n.classPat=[],n.dateHelper=c,n.res="",n.evento="",n._resolucion={FechaResolucion:new Date},n.Estatuses=[],n.user=s.getUserInfo(),n.getExpediente2=function(e,t){o.numero?(n.model.Expediente.TipoDeRegistroId="number:"+e,m("Expediente","?numero="+(n.model.Expediente.Numero=t)+"&TipoDeRegistroId="+e),l.path("/Anotaciones/"+t+"/"+e,!1)):l.path("/Anotaciones/"+t+"/"+e)},n.getNew=function(){n.model={Expediente:{Id:-1,TipoDeRegistroId:0,Numero:"",FechaDeSolicitud:void 0},Patente:{Descripcion:""},Titulares:[]}},n.titular={id:0,Direccion:"",PaisId:0,Nombre:""},n.onSelectTitular=function(e,t,o){n.titular.Id=e.Id,n.titular.PaisId=e.PaisId},n.searchTitulares=function(e){return i.get(s.api()+"/PatTitular/Search?textToSearch="+e).then(function(e){return e.data.Result.DataSet},function(e){return[]})},n.onSelectAgente=function(e,t,o){n.model.Patente.AgenteId=e.Id,n.model.Agente=e.Nombre},n.searchAgentes=function(e){console.log("search agentes");var t="/Admin/Agentes/Search";return console.log(s.api()+t+"?textToSearch="+e),i.get(s.api()+t+"?textToSearch="+e).then(function(e){return e.data.Result.DataSet},function(e){return console.log("error search agentes"),[]})},n.saveSolicitud=function(e){e.$valid&&i.post(s.api()+"/Patente/SaveSolicitud",{model:n.model}).then(function(e){n.model=e.data.Result.documento,f(),d.showAlertInfo("Solicitud Actualizada...")},function(e){d.handleError(e)})},n.saveTitulares=function(e){e.id=void 0;var t={Generic:e,Auditoria:JSON.stringify(e),jsExtra:JSON.stringify({ExpedienteId:n.model.Expediente.Id,Direccion:e.Direccion})};i.post(s.api()+"/Patente/SaveTitulares",{model:t}).then(function(e){console.log("response: "+JSON.stringify(e.data)),n.model.Titulares||(n.model.Titulares=[]),n.model.Titulares.push(e.data.Result[0])},function(e){d.handleError(e)})},n.deleteTitular=function(t){var e=JSON.stringify(t);i.post(s.api()+"/Patente/DeleteTitular?titularId="+t.Titular.Id+"&expedienteId="+n.model.Expediente.Id,{historial:e}).then(function(e){n.model.Titulares.remove(t)},function(e){d.handleError(e)})},n.saveInventor=function(e){console.log(JSON.stringify(e));e.id=void 0,e.ExpedienteId=n.model.Expediente.Id;var t={Generic:e,Auditoria:JSON.stringify(e)};i.post(s.api()+"/Inventores/SaveInventor",{model:t}).then(function(e){console.log("response: "+JSON.stringify(e.data)),n.model.Inventores||(n.model.Inventores=[]),n.model.Inventores.push(e.data.Result)},function(e){console.log("Error:"),console.log(e),d.handleError(e)})},n.deleteInventor=function(t){var e=JSON.stringify(t);i.post(s.api()+"/Inventores/DeleteInventor?inventorId="+t.Id+"&expedienteId="+n.model.Expediente.Id,{historial:e}).then(function(e){n.model.Inventores.remove(t)},function(e){d.handleError(e)})},n.saveAgente=function(e){var t={jsExtra:JSON.stringify({ExpedienteId:n.model.Expediente.Id,AgenteId:e})};i.post(s.api()+"/Patente/SaveAgente",{model:t}).then(function(e){d.showAlertInfo("Agente ha sido grabado correctamente...")},function(e){d.handleError(e)})},n.saveResumenClasificacion=function(e){var t={jsExtra:JSON.stringify({ExpedienteId:n.model.Expediente.Id,Ipc1:n.model.Ipc1,Ipc2:n.model.Ipc2,Ipc3:n.model.Ipc3,Ipc4:n.model.Ipc4,Resumen:n.model.Patente.Resumen})};i.post(s.api()+"/Patente/saveResumenClasificacion",{model:t}).then(function(e){d.showAlertInfo("Resumen-Clasificacion ha sido grabado correctamente...")},function(e){d.handleError(e)})},n.saveReferencia=function(e){console.log(JSON.stringify(e));e.ExpedienteId=n.model.Expediente.Id;var t={Generic:e,Auditoria:JSON.stringify(e)};i.post(s.api()+"/Patente/SaveReferencia",{model:t}).then(function(e){console.log("response: "+JSON.stringify(e.data)),n.model.Prioridades||(n.model.Prioridades=[]),n.model.Prioridades.push(e.data.Result)},function(e){console.log("Error:"),console.log(e),d.handleError(e)})},n.deleteReferencia=function(t){var e=JSON.stringify(t.Prioridad),o={Generic:t.Prioridad,Auditoria:e};i.post(s.api()+"/Patente/DeleteReferencia",{model:o}).then(function(e){n.model.Prioridades.remove(t)},function(e){d.handleError(e)})},n.saveAnualidad=function(e){alert("test"),console.log(JSON.stringify(e));e.ExpedienteId=n.model.Expediente.Id;var t={Generic:e,Auditoria:JSON.stringify(e)};i.post(s.api()+"/Patente/SaveAnualidad",{model:t}).then(function(e){console.log("response: "+JSON.stringify(e.data)),n.model.Anualidades||(n.model.Anualidades=[]),n.model.Anualidades.push(e.data.Result)},function(e){console.log("Error:"),console.log(e),d.handleError(e)})},n.deleteAnualidad=function(t){var e=JSON.stringify(t),o={Generic:t,Auditoria:e};i.post(s.api()+"/Patente/DeleteAnualidad",{model:o}).then(function(e){n.model.Anualidades.remove(t)},function(e){d.handleError(e)})},n._pat023SaveNPrint=function(e){var t=JSON.stringify(e);g("/anotacion/ResolucionCustomizada",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,EstatusId:e.EstatusId.Id,Titulo:e.Titulo,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Requerimiento_De_Examen_De_Forma=function(e){var t=JSON.stringify(e);g("/anotacion/Requerimiento_De_Examen_De_Forma",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Gestor_Oficioso=function(e){var t=JSON.stringify(e);g("/anotacion/Gestor_Oficioso",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Admision_Tramite=function(e){var t=JSON.stringify(e);g("/anotacion/Admision_Tramite",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Edicto=function(e){var t=JSON.stringify(e);g("/anotacion/Edicto",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Publicaciones=function(e){var t=JSON.stringify(e);g("/anotacion/Publicaciones",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Admite_Observaciones=function(e){var t=JSON.stringify(e);g("/anotacion/Admite_Observaciones",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Orden_De_Pago=function(e){var t=JSON.stringify(e);g("/anotacion/Orden_De_Pago",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Pago_Examen=function(e){var t=JSON.stringify(e);g("/anotacion/Pago_Examen",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Requerimiento_Examen_De_Fondo_A=function(e){var t=JSON.stringify(e);g("/anotacion/Requerimiento_Examen_De_Fondo_A",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Requerimiento_Examen_de_Fondo_B=function(e){var t=JSON.stringify(e);g("/anotacion/Requerimiento_Examen_de_Fondo_B",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Reporte_De_Examen_De_Fondo=function(e){var t=JSON.stringify(e);g("/anotacion/Reporte_De_Examen_De_Fondo",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Informe_de_Busqueda=function(e){var t=JSON.stringify(e);g("/anotacion/Informe_de_Busqueda",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Razon_De_Abandono=function(e){var t=JSON.stringify(e);g("/anotacion/Razon_De_Abandono",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Desistimiento_Solicitud=function(e){var t=JSON.stringify(e);g("/anotacion/Desistimiento_Solicitud",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Titulo=function(e){var t=JSON.stringify(e);g("/anotacion/Titulo",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Notificacion=function(e){var t=JSON.stringify(e);g("/anotacion/Notificacion",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Traspaso=function(e){var t=JSON.stringify(e);g("/anotacion/Traspaso",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Cambio_De_Nombre=function(e){var t=JSON.stringify(e);g("/anotacion/Cambio_De_Nombre",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Titulo_Renovacion=function(e){var t=JSON.stringify(e);g("/anotacion/Titulo_Renovacion",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Reposicion_Titulo_Patente=function(e){var t=JSON.stringify(e);g("/anotacion/Reposicion_Titulo_Patente",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Certificaciones=function(e){var t=JSON.stringify(e);g("/anotacion/Certificaciones",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.fds={},n.ppf={},n.saf={},n.fresolucion={},n.fmem={},n.fnoti={},n.fecha2={},n.fecha3={},n.fref={},n.fa={},n.fv={},n.fr={},n.fpct={},n.orightml="<h2>Titulo del contenido de Resolución</h2><p>Este es un ejemplo de texto o guia para escribir una resolucion customizada</p>",n._resolucion.htmlResol=n.orightml,n.WeekendDisabled=c.WeekendDisabled,n.minDate=c.minDate(),n.maxDate=c.maxDate(),n.open=function(e,t){e.preventDefault(),e.stopPropagation(),"fds"==t?n.fds.open=!0:"ppf"==t?n.ppf.open=!0:"saf"==t?n.saf.open=!0:"fresolucion"==t?n.fresolucion.open=!0:"fmem"==t?n.fmem.open=!0:"fnoti"==t?n.fnoti.open=!0:"fecha2"==t?n.fecha2.open=!0:"fecha3"==t?n.fecha3.open=!0:"fref"==t?n.fref.open=!0:"fa"==t?n.fa.open=!0:"fv"==t?n.fv.open=!0:"fr"==t?n.fr.open=!0:"fpct"==t&&(n.fpct.open=!0)},n.dateOptions=c.dateOptions,n.formats=c.formats,n.format=n.formats[1],n.isMnuEnabled=function(e){var t="";try{t=0==e._estatus.length?"":u.isMenuDisabledForReno(e,n.model)}catch(e){t="disabled"}return t},n.Resolucion=function(e){var t=e.view;console.log(t),u.isUnauthorizedActionForReno(e,t,n.model)?(n.res="./Spa/Views/empty.html",n.$apply()):(n.res="./Spa/Views/eAnota/"+t,n.evento=e.opcion),n._resolucion={resId:"",FechaResolucion:new Date}},n.rollbackResolution=function(){o.numero?l.path("/Anotaciones/"+o.numero+"/"+o.tipo):l.path("/Anotaciones"),n.Resolucion({_estatus:[0]}),showLeftBox()},s.custodian(function(){p()}),o.numero&&o.tipo?n.getExpediente2(o.tipo,o.numero):o.numero&&m("ExpedienteId","?Id="+o.numero)}]),yumKaaxControllers.controller("BusquedasExtCtrl",["$scope","$location","authService","classSrvc","$http","bouncer","feedbackSrvc",function(n,e,a,t,r,o,s){n.userIdentity=a.getUserInfo(),n.niza=t.getNizaClass(),n.nizaSel={niza:{}},n.tipoDeBusqueda=[{Id:1,Nombre:"Identica"},{Id:2,Nombre:"Fonetica"}],n.tipoDeBusquedaSel=n.tipoDeBusqueda[1],n.pageNumber=0,n.pageSize=0,n.dataset=[],n.searchMarcas=function(){var e="",t=n.nizaSel.niza;if(t.All)e="";else{for(i=0;i<46;i++)t[i]&&(e+=i.toString()+",");t[99]&&(e+="99,")}1<e.length&&(e=e.slice(0,-1));var o="/Marca/";n.dataset2=[],n.onSelect=function(e){n.dataset2.push(e);for(var t=0;t<n.dataset.length;t++)if(n.dataset[t].ExpedienteId==e.ExpedienteId){n.dataset.splice(t,1);break}},n.getExpedienteUrl=function(e){return"#/Marcas/"+e.Numero},n.tipoDeBusquedaSel&&2!=n.tipoDeBusquedaSel.Id?r.get(a.api()+o+"BusquedaIdentica?pageNumber="+n.pageNumber+"&pageSize="+n.pageSize+"&textToSearch="+n.textSearch.toUpperCase()+"&csvClases="+e).then(function(e){n.dataset=e.data.Result.DataSet,console.log(JSON.stringify(e.data.Result.DataSet[0])),n.totalItems=e.data.Result.DataSet.length}):r.get(a.api()+o+"BusquedaFonetica?pageNumber="+n.pageNumber+"&pageSize="+n.pageSize+"&textToSearch="+n.textSearch.toUpperCase()+"&csvClases="+e).then(function(e){n.dataset=e.data.Result.DataSet,console.log(JSON.stringify(e.data.Result.DataSet)),n.totalItems=e.data.Result.DataSet.length})}}]),yumKaaxControllers.controller("DACtrl",["$scope","$http","$q","$routeParams","$timeout","$route","listService","authService","$location","formUtils","dateHelper","bouncer","feedbackSrvc",function(l,n,e,i,t,o,c,a,r,s,u,d,p){function f(){l.model.Expediente.FechaDeSolicitud=u.parseStrDate(l.model.Expediente.FechaDeSolicitud),l.model.Expediente.FechaDeEstatus=u.parseStrDate(l.model.Expediente.FechaDeEstatus),l.model.DerechoDeAutor.FechaEdicion=u.parseStrDate(l.model.DerechoDeAutor.FechaEdicion),l.model.DerechoDeAutor.FechaPublicacion=u.parseStrDate(l.model.DerechoDeAutor.FechaPublicacion),l.modelCpy=angular.copy(l.model)}function m(e,t){n.get(a.api()+"/DAutor/"+e+t).then(function(e){l.model=e.data.Result.documento,f(),console.log("Fetched by expediente!!")},function(e){p.handleError(e,"Expediente no encontrado - "+(i.numero?i.numero:"")),console.log(e),l.model={}})}function g(e){l.model.Expediente.FechaDeSolicitud=new Date(l.model.Expediente.FechaDeSolicitud);for(var t=function(e){var t=e.getDate(),o=e.getMonth(),n=e.getFullYear();return c.getEnLetras(t)+" DE "+c.getMes(o)+" DEL DOS MIL "+c.getEnLetras(n-2e3)}(l.model.Expediente.FechaDeSolicitud),o="",n=0,i=0;i<l.model.Autores.length;i++)""==o?o+=l.model.Autores[i].NombreAutor:i+(n=1)<l.model.Autores.length?o+=", "+l.model.Autores[i].NombreAutor:o+=" Y "+l.model.Autores[i].NombreAutor;o=13==l.model.Expediente.TipoDeRegistroId||17==l.model.Expediente.TipoDeRegistroId?"productor es "+(o=l.model.Productor.Nombre):n?"autores son "+o:"autor es "+o;var a="",r="",s="";return s=13==l.model.Expediente.TipoDeRegistroId?(r="del fonograma "," del fonograma titulado "):17==l.model.Expediente.TipoDeRegistroId?(r="del programa de ordenador "," del programa de ordenador titulado "):(r="de la Obra "," de la obra titulada "),a="RESUELVE: I- Con lugar la solicitud de depósito e inscripción "+r+l.model.DerechoDeAutor.Titulo+" cuyo ",a+=o+" II. Procédase",a+=" a efectuar la inscripción de conformidad con la Ley y su Reglamento y efectuado lo anterior, ",a+=" extiéndase el certificado correspondiente. III. Notifiquese.",a="I) Se tiene a la vista para resolver la solicitud presentada por "+l.model.Solicitante.Nombre.trim()+" con fecha "+t+","+s+l.model.DerechoDeAutor.Titulo+" II) CONSIDERANDO: Que el artículo 104 de la Ley de Derecho de Autor y Derechos Conexos - Decreto 33-98, reformado por el Decreto 56-2000, ambos del Congreso de la República;  establece que el Registro de la Propiedad Intelectual, tiene por atribución principal, sin perjuicio de lo que dispongan otras leyes, garantizar la seguridad jurídica de los autores, de los titulares de los derechos conexos y de los titulares de los derechos patrimoniales respectivos y sus causahabientes, así como dar una adecuada publicidad a las obras, actos y documentos a través de su inscripción cuando así lo soliciten los titulares. CONSIDERANDO; Que el artículo 24 de la ley citada estipula que, por el derecho de autor, queda protegida exclusivamente la forma mediante la cual las ideas del autor son descritas, explicadas, ilustradas o incorporadas a las obras; CONSIDERANDO: Que en su artículo 105 la citada  ley preceptúa que la inscripción en el Registro presume ciertos los hechos y los actos que en ella consten, salvo prueba en contrario; y que toda inscripción deja a salvo los derechos de terceros; CONSIDERANDO: Que este Registro, al efectuar el análisis del presente expediente, establece que la solicitud satisface los requisitos contemplados en la Ley y su Reglamento, por lo que considera procedente acceder a lo solicitado. POR TANTO: Con base en lo considerado y lo que para el efecto establecen los artículos del 104 al 112 de la Ley de Derecho de Autor y Derechos Conexos y  41 de su Reglamento, Acuerdo Gubernativo 233-2003 este Registro,"+a}function h(e,t){n.post(a.api()+e,{tramite:t}).then(function(e){c.printDoc(e),l.getExpediente(l.model.Expediente.Numero),l._resolucion={FechaResolucion:new Date},showLeftBox(),l.res="./Spa/Views/eDA/empty.html"},function(e){p.handleError(e)})}var v;l.config={_expediente:"./Spa/Views/eDA/DAExpediente.html",_modulo:"Derecho de Autor"},l.$route=o,l.model={},l.opciones=c.getDAmnu(),l.tipoDeObras=[],l.paises=[],l.classObra=[{Id:"R",Nombre:"Rustico"},{Id:"L",Nombre:"De Lujo"}],l.enCalidadLst=[{Id:"1",Nombre:"Autor"},{Id:"2",Nombre:"Titular del Derecho"}],l.estadoCivilLst=[{Id:"",Nombre:""},{Id:"1",Nombre:"Soltero"},{Id:"2",Nombre:"Casado"},{Id:"3",Nombre:"Divorciado"},{Id:"4",Nombre:"Viudo"}],l.partituraLst=[{Id:"",Nombre:""},{Id:"S",Nombre:"SI"},{Id:"N",Nombre:"NO"}],l.dateHelper=u,l.Autor_FechaNacimiento=void 0,l.Autor_Defuncion=void 0,l.res="",l.evento="",l._resolucion={FechaResolucion:new Date},l.Estatuses=[],l.user=a.getUserInfo(),l.getExpediente=function(e){i.numero?(m("Expediente","?numero="+(l.model.Expediente.Numero=e)),r.path("/DA/"+e,!1)):r.path("/DA/"+e)},l.saveSolicitud=function(e){if(console.log(e),e.$valid){var t=s.getFormChanges(e,l.modelCpy,l.model);console.log(JSON.stringify(t));var o={Generic:l.model,Auditoria:JSON.stringify(t)};n.post(a.api()+"/DAutor/SaveSolicitud",{model:o}).then(function(e){-1===l.model.Expediente.Id?l.getExpediente(l.model.Expediente.Numero):l.getExpediente(i.numero),p.handleError(null,"Expediente actualizado - "+l.model.Expediente.Numero)},function(e){p.handleError(e)})}},l.saveAutor=function(e){console.log(JSON.stringify(e));e.ExpedienteId=l.model.Expediente.Id;var t={Generic:e,Auditoria:JSON.stringify(e)};n.post(a.api()+"/DAutor/SaveAutor",{model:t}).then(function(e){console.log("response: "+JSON.stringify(e.data)),l.model.Autores||(l.model.Autores=[]),l.model.Autores.push(e.data.Result)},function(e){p.handleError(e),console.log(e)})},l.deleteAutor=function(t){var e=JSON.stringify(t),o={Generic:t,Auditoria:e};n.post(a.api()+"/DAutor/DeleteAutor",{model:o}).then(function(e){l.model.Autores.remove(t)},function(e){p.handleError(e)})},l.saveFonogramaTituloDeObra=function(e){console.log(JSON.stringify(e));e.ExpedienteId=l.model.Expediente.Id;var t={Generic:e,Auditoria:JSON.stringify(e)};n.post(a.api()+"/DAutor/saveFonogramaTituloDeObra",{model:t}).then(function(e){console.log("response: "+JSON.stringify(e.data)),l.model.FonogramaTituloDeObras||(l.model.FonogramaTituloDeObras=[]),l.model.FonogramaTituloDeObras.push(e.data.Result)},function(e){p.handleError(e)})},l.deleteFonogramaTituloDeObra=function(t){var e=JSON.stringify(t),o={Generic:t,Auditoria:e};n.post(a.api()+"/DAutor/deleteFonogramaTituloDeObra",{model:o}).then(function(e){l.model.FonogramaTituloDeObras.remove(t)},function(e){p.handleError(e)})},l.saveFonogramaArtista=function(e){console.log(JSON.stringify(e));e.ExpedienteId=l.model.Expediente.Id;var t={Generic:e,Auditoria:JSON.stringify(e)};n.post(a.api()+"/DAutor/saveFonogramaArtista",{model:t}).then(function(e){console.log("response: "+JSON.stringify(e.data)),l.model.FonogramaArtistas||(l.model.FonogramaArtistas=[]),l.model.FonogramaArtistas.push(e.data.Result)},function(e){console.log("Error:"),console.log(e),p.handleError(e)})},l.deleteFonogramaArtista=function(t){var e=JSON.stringify(t),o={Generic:t,Auditoria:e};n.post(a.api()+"/DAutor/deleteFonogramaArtista",{model:o}).then(function(e){l.model.FonogramaArtistas.remove(t)},function(e){p.handleError(e)})},l.saveGuionAutor=function(e){console.log(JSON.stringify(e));e.ExpedienteId=l.model.Expediente.Id;var t={Generic:e,Auditoria:JSON.stringify(e)};n.post(a.api()+"/DAutor/saveGuionAutor",{model:t}).then(function(e){console.log("response: "+JSON.stringify(e.data)),l.model.GuionAutores||(l.model.GuionAutores=[]),l.model.GuionAutores.push(e.data.Result)},function(e){p.handleError(e)})},l.deleteGuionAutor=function(t){var e=JSON.stringify(t),o={Generic:t,Auditoria:e};n.post(a.api()+"/DAutor/deleteGuionAutor",{model:o}).then(function(e){l.model.GuionAutores.remove(t)},function(e){p.handleError(e)})},l.saveAudiovisualAutor=function(e){console.log(JSON.stringify(e));e.ExpedienteId=l.model.Expediente.Id;var t={Generic:e,Auditoria:JSON.stringify(e)};n.post(a.api()+"/DAutor/saveAudiovisualAutor",{model:t}).then(function(e){console.log("response: "+JSON.stringify(e.data)),l.model.AudiovisualAutores||(l.model.AudiovisualAutores=[]),l.model.AudiovisualAutores.push(e.data.Result)},function(e){p.handleError(e)})},l.deleteAudiovisualAutor=function(t){var e=JSON.stringify(t),o={Generic:t,Auditoria:e};n.post(a.api()+"/DAutor/deleteAudiovisualAutor",{model:o}).then(function(e){l.model.AudiovisualAutores.remove(t)},function(e){p.handleError(e)})},l.saveComposicionAutor=function(e){console.log(JSON.stringify(e));e.ExpedienteId=l.model.Expediente.Id;var t={Generic:e,Auditoria:JSON.stringify(e)};n.post(a.api()+"/DAutor/saveComposicionAutor",{model:t}).then(function(e){console.log("response: "+JSON.stringify(e.data)),l.model.ComposicionAutores||(l.model.ComposicionAutores=[]),l.model.ComposicionAutores.push(e.data.Result)},function(e){p.handleError(e)})},l.deleteComposicionAutor=function(t){var e=JSON.stringify(t),o={Generic:t,Auditoria:e};n.post(a.api()+"/DAutor/deleteComposicionAutor",{model:o}).then(function(e){l.model.ComposicionAutores.remove(t)},function(e){p.handleError(e)})},l.getNew=function(){l.model={Expediente:{Id:-1,TipoDeRegistroId:0,Numero:"",FechaDeSolicitud:void 0}}},l.resolucionTexto=function(e){e.Resuelve=g(),l._resolucion.Resuelve=e.Resuelve},l.ConLugar=function(e){var t=JSON.stringify(e);h("/DAutor/ConLugar",{ExpedienteId:l.model.Expediente.Id,Fecha:e.FechaResolucion,Articulos:e.Resuelve,JSONDOC:t})},l.Rechazo=function(e){var t=JSON.stringify(e);h("/DAutor/Rechazo",{ExpedienteId:l.model.Expediente.Id,Fecha:e.FechaResolucion,Articulos:e.Resuelve,JSONDOC:t})},l.Suspenso=function(e){var t=JSON.stringify(e);h("/DAutor/Suspenso",{ExpedienteId:l.model.Expediente.Id,Fecha:e.FechaResolucion,Articulos:e.Resuelve,JSONDOC:t})},l.OperarMemorial=function(e){var t=JSON.stringify(e);h("/DAutor/OperarMemorial",{ExpedienteId:l.model.Expediente.Id,Fecha:e.FechaResolucion,Observaciones:e.Observaciones,JSONDOC:t})},l.LevantarSuspenso=function(e){var t=JSON.stringify(e);h("/DAutor/LevantarSuspenso",{ExpedienteId:l.model.Expediente.Id,Fecha:e.FechaResolucion,Articulos:e.Resuelve,JSONDOC:t})},l.RecursoRevocatoria=function(e){var t=JSON.stringify(e);h("/DAutor/RecursoRevocatoria",{ExpedienteId:l.model.Expediente.Id,Fecha:e.FechaResolucion,Articulos:e.Resuelve,JSONDOC:t})},l.ElevandoRecurso=function(e){var t=JSON.stringify(e);h("/DAutor/ElevandoRecurso",{ExpedienteId:l.model.Expediente.Id,Fecha:e.FechaResolucion,Articulos:e.Resuelve,JSONDOC:t})},l.PorRecibidoMINECOaRegistro=function(e){var t=JSON.stringify(e);h("/DAutor/PorRecibidoMINECOaRegistro",{ExpedienteId:l.model.Expediente.Id,Fecha:e.FechaResolucion,Articulos:e.Resuelve,JSONDOC:t})},l.PorRecibidoMINECOArchivo=function(e){var t=JSON.stringify(e);h("/DAutor/PorRecibidoMINECOArchivo",{ExpedienteId:l.model.Expediente.Id,Fecha:e.FechaResolucion,Articulos:e.Resuelve,JSONDOC:t})},l._140NotificarSaveNPrint=function(e){var t=JSON.stringify(e);h("/DAutor/Notificar",{ExpedienteId:l.model.Expediente.Id,Fecha:e.FechaResolucion,Hora:e.Hora,Notificador:e.Notificador,JSONDOC:t})},l._140EmitirTituloSaveNPrint=function(e){var t=JSON.stringify(e);h("/DAutor/EmitirTitulo",{ExpedienteId:l.model.Expediente.Id,Fecha:e.FechaResolucion,Tomo:e.Tomo,Folio:e.Folio,Registro:e.Registro,Libro:e.Libro,JSONDOC:t})},l._00CambiarEstatusSaveNPrint=function(e){var t={ExpedienteId:l.model.Expediente.Id,Fecha:e.FechaResolucion,EstatusId:e.EstatusId.Id},o=JSON.stringify(t);t.JSONDOC=o,h("/DAutor/CambiarEstatus",t)},l._135ReposiciondeTituloSaveNPrint=function(e){var t=JSON.stringify(e);h("/DAutor/ReposiciondeTitulo",{ExpedienteId:l.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t})},l.fds={},l.fres={},l.fde={},l.fpub={},l.saf={},l.fresolucion={},l.frechazo={},l.afn={},l.afd={},l.disabled=u.disabled,l.minDate=u.minDate(),l.maxDate=u.maxDate(),l.open=function(e,t){e.preventDefault(),e.stopPropagation(),"fds"==t?l.fds.open=!0:"fres"==t?l.fres.open=!0:"fde"==t?l.fde.open=!0:"fpub"==t?l.fpub.open=!0:"fresolucion"==t?l.fresolucion.open=!0:"frechazo"==t?l.frechazo.open=!0:"afn"==t?l.afn.open=!0:"afd"==t&&(l.afd.open=!0)},l.dateOptions=u.dateOptions,l.formats=u.formats,l.format=l.formats[0],l.isMnuEnabled=function(e){var t="";try{t=0==e._estatus.length?"":d.isMenuDisabledForDA(e,l.model)}catch(e){t="disabled"}return t},l.Resolucion=function(e){var t=e.view;d.isUnauthorizedActionForDA(e,t,l.model)?(l.res="./Spa/Views/empty.html",l.$apply()):(l.res="./Spa/Views/eDA/"+t,l.evento=e.opcion),l._resolucion={resId:"",FechaResolucion:new Date}},l.rollbackResolution=function(){i.numero?r.path("/DA/"+i.numero):r.path("/DA"),l.Resolucion({_estatus:[0]}),showLeftBox()},v=c.getLists(),l.tipoDeObras=v.tipoDeObras,l.paises=v.paises,l.model={Expediente:{Id:-1,TipoDeRegistroId:0,Numero:"",FechaDeSolicitud:void 0}},n.get(a.api()+"/Admin/Estatus/GetPage?page=1&pageSize=200&moduloId=3").then(function(e){console.log(e),l.Estatuses=e.data.Result.DataSet}),i.numero&&l.getExpediente(i.numero)}]),yumKaaxControllers.controller("PatenteCtrl",["$scope","$http","$q","$routeParams","$timeout","$route","listService","authService","$location","dateHelper","bouncer","feedbackSrvc",function(n,i,e,o,t,a,r,s,l,c,u,d){function p(e,t){i.get(s.api()+"/Patente/"+e+t).then(function(e){n.model=e.data.Result.documento,console.log(JSON.stringify(n.model)),function(){n.model.Expediente.FechaDeSolicitud=c.parseStrDate(n.model.Expediente.FechaDeSolicitud),n.model.Expediente.FechaDeEstatus=c.parseStrDate(n.model.Expediente.FechaDeEstatus),n.model.Patente.Fecha_Pct=c.parseStrDate(n.model.Patente.Fecha_Pct);for(var e=0;e<n.model.Prioridades.length;e++)n.model.Prioridades[e].Prioridad.Fecha=c.parseStrDate(n.model.Prioridades[e].Prioridad.Fecha);for(e=0;e<n.model.Cronologia.length;e++)n.model.Cronologia[e].Fecha=c.parseStrDate(n.model.Cronologia[e].Fecha);for(e=0;e<n.model.Anualidades.length;e++)n.model.Anualidades[e].FechaVencimiento=c.parseStrDate(n.model.Anualidades[e].FechaVencimiento),n.model.Anualidades[e].FechaRecibo=c.parseStrDate(n.model.Anualidades[e].FechaRecibo),n.model.Anualidades[e].FechaAnualidad=c.parseStrDate(n.model.Anualidades[e].FechaAnualidad)}(),console.log("Fetched by expediente!!")},function(e){d.handleError(e,"Expediente no encontrado - "+(o.numero?o.numero:""));var t=n.model.Expediente.TipoDeRegistroId;n.model={Expediente:{TipoDeRegistroId:t}}})}function f(e,t){i.post(s.api()+e,{tramite:t}).then(function(e){r.printDoc(e),n.getExpediente(n.model.Expediente.TipoDeRegistroId,n.model.Expediente.Numero),n._resolucion={FechaResolucion:new Date},n.res="./Spa/Views/empty.html"},function(e){d.handleError(e)})}var m;n.config={_expediente:"./Spa/Views/ePatentes/PatentesExpediente.html",_modulo:"Patentes"},n.$route=a,n.opciones=r.getPatentesmnu(),n.tipoDePatentes=[],n.paises=[],n.model={Expediente:{Id:-1,TipoDeRegistroId:0,Numero:"",FechaDeSolicitud:void 0},Patente:{Descripcion:""},Titulares:[]},n.titular={Id:-1,Direccion:"",PaisId:-1},n.Estatuses=[],n.classPat=[],n.dateHelper=c,n.res="",n.evento="",n._resolucion={FechaResolucion:new Date},n.Estatuses=[],n.user=s.getUserInfo(),n.getExpediente2=function(e,t){o.numero?(n.model.Expediente.TipoDeRegistroId="number:"+e,p("Expediente","?numero="+(n.model.Expediente.Numero=t)+"&TipoDeRegistroId="+e),l.path("/Patentes/"+t+"/"+e,!1)):l.path("/Patentes/"+t+"/"+e)},n.getNew=function(){n.model={Expediente:{Id:-1,TipoDeRegistroId:0,Numero:"",FechaDeSolicitud:void 0},Patente:{Descripcion:""},Titulares:[]}},n.titular={id:0,Direccion:"",PaisId:0,Nombre:""},n.onSelectTitular=function(e,t,o){n.titular.Id=e.Id,n.titular.PaisId=e.PaisId},n.searchTitulares=function(e){return i.get(s.api()+"/PatTitular/Search?textToSearch="+e).then(function(e){return e.data.Result.DataSet},function(e){return[]})},n.onSelectAgente=function(e,t,o){n.model.Patente.AgenteId=e.Id,n.model.Agente=e.Nombre},n.searchAgentes=function(e){console.log("search agentes");var t="/Admin/Agentes/Search";return console.log(s.api()+t+"?textToSearch="+e),i.get(s.api()+t+"?textToSearch="+e).then(function(e){return e.data.Result.DataSet},function(e){return console.log("error search agentes"),[]})},n.saveSolicitud=function(e){e.$valid&&i.post(s.api()+"/Patente/SaveSolicitud",{model:n.model}).then(function(e){n.model=e.data.Result.documento,n.getExpediente2(o.tipo,o.numero),d.showAlertInfo("Expediente actualizado - "+o.tipo+"-"+o.numero)},function(e){d.handleError(e)})},n.saveTitulares=function(e){e.id=void 0;var t={Generic:e,Auditoria:JSON.stringify(e),jsExtra:JSON.stringify({ExpedienteId:n.model.Expediente.Id,Direccion:e.Direccion})};i.post(s.api()+"/Patente/SaveTitulares",{model:t}).then(function(e){console.log("response: "+JSON.stringify(e.data)),n.model.Titulares||(n.model.Titulares=[]),n.model.Titulares.push(e.data.Result[0])},function(e){d.handleError(e)})},n.deleteTitular=function(t){var e=JSON.stringify(t);i.post(s.api()+"/Patente/DeleteTitular?titularId="+t.Titular.Id+"&expedienteId="+n.model.Expediente.Id,{historial:e}).then(function(e){n.model.Titulares.remove(t)},function(e){d.handleError(e)})},n.saveInventor=function(e){console.log(JSON.stringify(e));e.id=void 0,e.ExpedienteId=n.model.Expediente.Id;var t={Generic:e,Auditoria:JSON.stringify(e)};i.post(s.api()+"/Inventores/SaveInventor",{model:t}).then(function(e){console.log("response: "+JSON.stringify(e.data)),n.model.Inventores||(n.model.Inventores=[]),n.model.Inventores.push(e.data.Result)},function(e){console.log("Error:"),console.log(e),d.handleError(e)})},n.deleteInventor=function(t){var e=JSON.stringify(t);i.post(s.api()+"/Inventores/DeleteInventor?inventorId="+t.Id+"&expedienteId="+n.model.Expediente.Id,{historial:e}).then(function(e){n.model.Inventores.remove(t)},function(e){d.handleError(e)})},n.saveAgente=function(e){var t={jsExtra:JSON.stringify({ExpedienteId:n.model.Expediente.Id,AgenteId:e})};i.post(s.api()+"/Patente/SaveAgente",{model:t}).then(function(e){d.showAlertInfo("Agente ha sido grabado correctamente...")},function(e){d.handleError(e)})},n.saveResumenClasificacion=function(e){var t={jsExtra:JSON.stringify({ExpedienteId:n.model.Expediente.Id,Ipc1:n.model.Ipc1,Ipc2:n.model.Ipc2,Ipc3:n.model.Ipc3,Ipc4:n.model.Ipc4,Resumen:n.model.Patente.Resumen})};i.post(s.api()+"/Patente/saveResumenClasificacion",{model:t}).then(function(e){d.showAlertInfo("Resumen-Clasificacion ha sido grabado correctamente...")},function(e){d.handleError(e)})},n.saveReferencia=function(e){console.log(JSON.stringify(e));e.ExpedienteId=n.model.Expediente.Id;var t={Generic:e,Auditoria:JSON.stringify(e)};i.post(s.api()+"/Patente/SaveReferencia",{model:t}).then(function(e){console.log("response: "+JSON.stringify(e.data)),n.model.Prioridades||(n.model.Prioridades=[]),n.model.Prioridades.push(e.data.Result)},function(e){console.log("Error:"),console.log(e),d.handleError(e)})},n.deleteReferencia=function(t){var e=JSON.stringify(t.Prioridad),o={Generic:t.Prioridad,Auditoria:e};i.post(s.api()+"/Patente/DeleteReferencia",{model:o}).then(function(e){n.model.Prioridades.remove(t)},function(e){d.handleError(e)})},n.saveAnualidad=function(e){alert("test"),console.log(JSON.stringify(e));e.ExpedienteId=n.model.Expediente.Id;var t={Generic:e,Auditoria:JSON.stringify(e)};i.post(s.api()+"/Patente/SaveAnualidad",{model:t}).then(function(e){console.log("response: "+JSON.stringify(e.data)),n.model.Anualidades||(n.model.Anualidades=[]),n.model.Anualidades.push(e.data.Result)},function(e){console.log("Error:"),console.log(e),d.handleError(e)})},n.deleteAnualidad=function(t){var e=JSON.stringify(t),o={Generic:t,Auditoria:e};i.post(s.api()+"/Patente/DeleteAnualidad",{model:o}).then(function(e){n.model.Anualidades.remove(t)},function(e){d.handleError(e)})},n._pat023SaveNPrint=function(e){var t=JSON.stringify(e);f("/Patente/ResolucionCustomizada",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,EstatusId:e.EstatusId.Id,Titulo:e.Titulo,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Requerimiento_De_Examen_De_Forma=function(e){var t=JSON.stringify(e);f("/Patente/Requerimiento_De_Examen_De_Forma",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Gestor_Oficioso=function(e){var t=JSON.stringify(e);f("/Patente/Gestor_Oficioso",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Admision_Tramite=function(e){var t=JSON.stringify(e);f("/Patente/Admision_Tramite",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Edicto=function(e){var t=JSON.stringify(e);f("/Patente/Edicto",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Publicaciones=function(e){var t=JSON.stringify(e);f("/Patente/Publicaciones",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Admite_Observaciones=function(e){var t=JSON.stringify(e);f("/Patente/Admite_Observaciones",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Orden_De_Pago=function(e){var t=JSON.stringify(e);f("/Patente/Orden_De_Pago",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Pago_Examen=function(e){var t=JSON.stringify(e);f("/Patente/Pago_Examen",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Requerimiento_Examen_De_Fondo_A=function(e){var t=JSON.stringify(e);f("/Patente/Requerimiento_Examen_De_Fondo_A",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Requerimiento_Examen_de_Fondo_B=function(e){var t=JSON.stringify(e);f("/Patente/Requerimiento_Examen_de_Fondo_B",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Reporte_De_Examen_De_Fondo=function(e){var t=JSON.stringify(e);f("/Patente/Reporte_De_Examen_De_Fondo",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Informe_de_Busqueda=function(e){var t=JSON.stringify(e);f("/Patente/Informe_de_Busqueda",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Razon_De_Abandono=function(e){var t=JSON.stringify(e);f("/Patente/Razon_De_Abandono",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Desistimiento_Solicitud=function(e){var t=JSON.stringify(e);f("/Patente/Desistimiento_Solicitud",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Titulo=function(e){var t=JSON.stringify(e);f("/Patente/Titulo",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Notificacion=function(e){var t=JSON.stringify(e);f("/Patente/Notificacion",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Traspaso=function(e){var t=JSON.stringify(e);f("/Patente/Traspaso",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Cambio_De_Nombre=function(e){var t=JSON.stringify(e);f("/Patente/Cambio_De_Nombre",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Titulo_Renovacion=function(e){var t=JSON.stringify(e);f("/Patente/Titulo_Renovacion",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Reposicion_Titulo_Patente=function(e){var t=JSON.stringify(e);f("/Patente/Reposicion_Titulo_Patente",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.Certificaciones=function(e){var t=JSON.stringify(e);f("/Patente/Certificaciones",{ExpedienteId:n.model.Expediente.Id,Fecha:e.FechaResolucion,JSONDOC:t,HTMLDOC:e.htmlResol})},n.fds={},n.ppf={},n.saf={},n.fresolucion={},n.fmem={},n.fnoti={},n.fecha2={},n.fecha3={},n.fref={},n.fa={},n.fv={},n.fr={},n.fpct={},n.orightml="<h2>Titulo del contenido de Resolución</h2><p>Este es un ejemplo de texto o guia para escribir una resolucion customizada</p>",n._resolucion.htmlResol=n.orightml,n.WeekendDisabled=c.WeekendDisabled(),n.minDate=c.minDate(),n.maxDate=c.maxDate(),n.open=function(e,t){e.preventDefault(),e.stopPropagation(),"fds"==t?n.fds.open=!0:"ppf"==t?n.ppf.open=!0:"saf"==t?n.saf.open=!0:"fresolucion"==t?n.fresolucion.open=!0:"fmem"==t?n.fmem.open=!0:"fnoti"==t?n.fnoti.open=!0:"fecha2"==t?n.fecha2.open=!0:"fecha3"==t?n.fecha3.open=!0:"fref"==t?n.fref.open=!0:"fa"==t?n.fa.open=!0:"fv"==t?n.fv.open=!0:"fr"==t?n.fr.open=!0:"fpct"==t&&(n.fpct.open=!0)},n.dateOptions=c.dateOptions,n.formats=c.formats,n.format=n.formats[1],n.isMnuEnabled=function(e){var t="";try{t=0==e._estatus.length?"":u.isMenuDisabledForPatentes(e,n.model)}catch(e){t="disabled"}return t},n.Resolucion=function(e){var t=e.view;console.log(t),u.isUnauthorizedActionForPatentes(e,t,n.model)?(console.log("production mode... status validation in place"),n.res="./Spa/Views/empty.html",n.$apply()):(n.res="./Spa/Views/ePatentes/"+t,n.evento=e.opcion),n._resolucion={resId:"",FechaResolucion:new Date}},n.rollbackResolution=function(){o.numero?l.path("/Patentes/"+o.numero+"/"+o.tipo):l.path("/Patentes"),n.Resolucion({_estatus:[0]}),showLeftBox()},m=r.getLists(),n.tipoDePatentes=m.tipoDePatentes,n.paises=m.paises,n.classPat=r.getClassificacionPat(),i.get(s.api()+"/Admin/Estatus/GetPage?page=1&pageSize=200&moduloId=2").then(function(e){n.Estatuses=e.data.Result.DataSet}),o.numero&&o.tipo?n.getExpediente2(o.tipo,o.numero):o.numero&&p("ExpedienteId","?Id="+o.numero)}]),yumKaaxControllers.controller("authCtrl",["$scope","$location","feedbackSrvc","authService",function(t,o,n,e){t.userIdentity=null,t.login=function(){e.login(t.userName,t.password).then(function(e){t.userIdentity=e,o.path("/")},function(e){n.showAlertInfo("Invalid credentials**"),console.log(e)})},t.cancel=function(){t.userName="",t.password=""}}]),angular.module("eRegistroAPI",[]).factory("rpiServices",["$http",function(n){var i="/eRegistroAPI",a="/Marca/",e={},t={};return e.getExpedienteByRegistro=function(e,t,o){return o?n.get(i+a+"Registro?tipoDeRegistroId="+e+"&registro="+t+"&letra="+o):n.get(i+a+"Registro?tipoDeRegistroId="+e+"&registro="+t)},t.getExpedienteDeAnotacionByNumero=function(e){return n.get(i+"/Anotacion/Expediente?numero="+e)},{marcas:e,anota:t}}]),angular.module("grlDirectives",[]).directive("equals",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,o,n){if(n){e.$watch(o.ngModel,function(){i()}),o.$observe("equals",function(e){i()});var i=function(){var e=n.$viewValue,t=o.equals;n.$setValidity("equals",!e||!t||e===t)}}}}}).directive("ngConfirmClick",function(){return{link:function($scope,element,attr){var msg=attr.ngConfirmClick||"Esta segur@? de continuar",clickAction=attr.confirmedClick,jsClick=attr.jsClick;element.bind("click",function(event){window.confirm(msg)&&($scope.$eval(clickAction),eval(jsClick))})}}}).directive("confirmAction",["$uibModal","$parse",function(i,a){return{restrict:"EA",link:function(t,e,o){if(o.continueWith){var n=function(){t.msg=o.msg?o.msg:"Continuar?",t.confirmButtonText=o.confirmButtonText?o.confirmButtonText:"Yes",t.cancelButtonText=o.cancelButtonText?o.cancelButtonText:"No"};e.click(function(){var e=a(o.continueWith);if((console.log(o.askWhen),o.askWhen)&&!a(o.askWhen)(t))return e(t),void t.$apply();i.open({size:"sm",template:'<div class="modal-header"><h3 class="modal-title">{{msg}}</h3></div><div class="modal-footer"><div class="row"> <div class="col-md-4"><button type="button" class="btn btn-primary btn-block" ng-click="$close(\'ok\')">{{ confirmButtonText }}</button></div> <div class="col-md-4"><button type="button" class="btn btn-primary btn-block" ng-click="$dismiss(\'cancel\')">{{ cancelButtonText }}</button></div></div></div>',controller:n,scope:t}).result.then(function(){e(t),t.$apply()})})}}}}]).directive("loadSpinner",["$http","$rootScope",function(n,i){return{link:function(e,t,o){i.spinnerActive=!1,e.isLoading=function(){return 0<n.pendingRequests.length},e.$watch(e.isLoading,function(e){(i.spinnerActive=e)?t.removeClass("ng-hide"):t.addClass("ng-hide")})},template:'<div id="appSpinner"><div class="kart-loader"><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div><div class="sheath"><div class="segment"></div></div></div></div>'}}]),angular.module("appfeedback",[]).directive("appFeedback",["feedbackSrvc",function(n){return{link:function(o,e,t){o.feedbackLog=[],o.isTriggered=function(){return n.isTriggered()},o.$watch(o.isTriggered,function(e){o.feedbackLog=n.getFeedback()}),o.$on("feedbackOn",function(e,t){o.feedbackLog=n.getFeedback()}),o.closeAppPopup=function(){n.flush()}},template:'<div class="message-popup-box box-feedback" style="right: 0px;" ng-show="feedbackLog.length>0"><div class="popup-header box-header box-feedback"><span class="glyphicon glyphicon-exclamation-sign" font-size 20px;></span> Aviso(s) del Sistema<span class="glyphicon glyphicon-remove close-popup-box" ng-click="closeAppPopup()"></span></div><div class="popup-body"><table class="table table-striped tbl-text-warns"><tbody><tr ng-repeat="m in feedbackLog"><td  ng-bind="m"></td></tr></tbody></table></div></div>'}}]);var yumKaaxApp=angular.module("yumKaaxApp",["ngRoute","gespiControllers","eRegistroAPI","authFactory","utilsFactory","grlDirectives","ngAnimate","ngSanitize","ui.bootstrap","ngSanitize","ui.utils","textAngular","appfeedback"]);yumKaaxApp.config(["$routeProvider",function(e){var t="./Spa/Views/";e.when("/",{templateUrl:t+"eMarcas/Home.html",controller:"eRPICtrl"}).when("/login",{templateUrl:t+"Base/Login.html",controller:"authCtrl"}).when("/Marcas",{templateUrl:t+"shared/SolicitudTpl.html",controller:"MarcasCtrl"}).when("/Marcas/:numero",{templateUrl:t+"shared/SolicitudTpl.html",controller:"MarcasCtrl"}).when("/Marcas/id/:id",{templateUrl:t+"shared/SolicitudTpl.html",controller:"MarcasCtrl"}).when("/Anotaciones",{templateUrl:t+"shared/SolicitudTpl.html",controller:"AnotacionesCtrl"}).when("/Anotaciones/:numero",{templateUrl:t+"shared/SolicitudTpl.html",controller:"AnotacionesCtrl"}).when("/Renovaciones",{templateUrl:t+"shared/SolicitudTpl.html",controller:"RenovacionesCtrl"}).when("/Renovaciones/:numero",{templateUrl:t+"shared/SolicitudTpl.html",controller:"RenovacionesCtrl"}).when("/BusquedasExt",{templateUrl:t+"eMarcas/busquedas-ext.html",controller:"BusquedasExtCtrl"}).when("/Patentes",{templateUrl:t+"shared/SolicitudTpl.html",controller:"PatenteCtrl"}).when("/Patentes/:numero/:tipo",{templateUrl:t+"shared/SolicitudTpl.html",controller:"PatenteCtrl"}).when("/DA",{templateUrl:t+"shared/SolicitudTpl.html",controller:"DACtrl"}).when("/DA/:numero",{templateUrl:t+"shared/SolicitudTpl.html",controller:"DACtrl"}).otherwise({redirectTo:""})}]),yumKaaxApp.filter("dateformat",function(){var o=/\\\/Date\(([0-9]*)\)\\\//;return function(e){var t=e.match(o);return t?new Date(parseInt(t[1])):null}}),yumKaaxApp.run(["$rootScope","$location","authService",function(e,i,t){e.$on("$routeChangeSuccess",function(e){0<=i.path().indexOf("olvide-clave")||null!==t.getUserInfo()&&void 0!==t.getUserInfo()||i.path("/login")}),e.$on("$routeChangeError",function(e,t,o,n){!1===n.authenticated&&i.path("/login")})}]),yumKaaxApp.config(["$httpProvider",function(e){e.interceptors.push("sessionInjector")}]),Array.prototype.remove=function(){for(var e,t,o=arguments,n=o.length;n&&this.length;)for(e=o[--n];-1!==(t=this.indexOf(e));)this.splice(t,1);return this};